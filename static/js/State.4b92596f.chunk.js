(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[8],{193:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(417),i=a(418),s=a(419),l=a(420),o=a(172);t.a=r.a.memo((function(e){var t=Object(o.a)().t;return r.a.createElement("footer",{className:"fadeInUp",style:{animationDelay:"2s"}},r.a.createElement("h5",null,t("We stand with everyone fighting on the frontlines")),r.a.createElement("div",{className:"link"},r.a.createElement("a",{href:"https://github.com/covid19india",target:"_blank",rel:"noopener noreferrer"},"covid19india")),r.a.createElement("a",{href:"https://github.com/covid19india/covid19india-react",className:"button github",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(c.a,null),r.a.createElement("span",null,t("Open Sourced on GitHub"))),r.a.createElement("a",{className:"button excel",href:"http://patientdb.covid19india.org",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(i.a,null),r.a.createElement("span",null,t("Crowdsourced Patient Database"))),r.a.createElement("a",{href:"https://twitter.com/covid19indiaorg",target:"_blank",rel:"noopener noreferrer",className:"button twitter",style:{justifyContent:"center"}},r.a.createElement(s.a,null),r.a.createElement("span",null,t("View updates on Twitter"))),r.a.createElement("a",{href:"https://bit.ly/covid19crowd",className:"button telegram",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(l.a,null),r.a.createElement("span",null,t("Join Telegram to Collaborate!"))))}))},198:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),c=a(595),i=a(202),s=r.a.createElement("span",{className:"tooltip-tested",onClick:function(e){return e.stopPropagation()}},r.a.createElement(c.a,{"data-for":"tested","data-tip":"Reporting total samples tested from ICMR data","data-event":"touchstart mouseover","data-event-off":"mouseleave"}),r.a.createElement(i.a,{id:"tested",place:"top",type:"dark",effect:"solid",multiline:!0,scrollHide:!0,globalEventOff:"click"}))},229:function(e,t,a){"use strict";var n=a(31),r=a(72),c=a(0),i=a.n(c),s=a(172),l=a(99);t.a=i.a.memo((function(e){var t=Object(c.useState)(e.data),a=Object(n.a)(t,2),o=a[0],d=a[1],m=Object(s.a)().t;return Object(l.a)((function(){d({active:+e.data.active,confirmed:+e.data.confirmed,recovered:+e.data.recovered,deaths:+e.data.deaths,deltaconfirmed:+e.data.deltaconfirmed,deltadeaths:+e.data.deltadeaths,deltarecovered:+e.data.deltarecovered})})),i.a.createElement("div",{className:"Level"},i.a.createElement("div",{className:"level-item is-cherry fadeInUp",style:{animationDelay:"1s"}},i.a.createElement("h5",null,m("Confirmed")),i.a.createElement("h4",null,"[",isNaN(o.deltaconfirmed)?"":o.deltaconfirmed>0?"+"+Object(r.h)(o.deltaconfirmed):"+0","]"),i.a.createElement("h1",null,Object(r.h)(o.confirmed)," ")),i.a.createElement("div",{className:"level-item is-blue fadeInUp",style:{animationDelay:"1.1s"}},i.a.createElement("h5",{className:"heading"},m("Active")),i.a.createElement("h4",null,"\xa0"),i.a.createElement("h1",{className:"title has-text-info"},Object(r.h)(o.active))),i.a.createElement("div",{className:"level-item is-green fadeInUp",style:{animationDelay:"1.2s"}},i.a.createElement("h5",{className:"heading"},m("Recovered")),i.a.createElement("h4",null,"[",isNaN(o.deltarecovered)?"":o.deltarecovered>0?"+"+Object(r.h)(o.deltarecovered):"+0","]"),i.a.createElement("h1",{className:"title has-text-success"},Object(r.h)(o.recovered)," ")),i.a.createElement("div",{className:"level-item is-gray fadeInUp",style:{animationDelay:"1.3s"}},i.a.createElement("h5",{className:"heading"},m("Deceased")),i.a.createElement("h4",null,"[",isNaN(o.deltadeaths)?"":o.deltadeaths>0?"+"+Object(r.h)(o.deltadeaths):"+0","]"),i.a.createElement("h1",{className:"title has-text-grey"},Object(r.h)(o.deaths))))}))},239:function(e,t,a){"use strict";var n=a(31),r=a(176),c=a(0),i=a.n(c);t.a=i.a.memo((function(e){var t=e.timeseries,a=Object(c.useState)([]),s=Object(n.a)(a,2),l=s[0],o=s[1],d=Object(c.useRef)(),m=Object(c.useRef)(),u=Object(c.useRef)(),f=Object(c.useRef)();Object(c.useEffect)((function(){o(t.slice(t.length-20))}),[t]);var p=Object(c.useCallback)((function(e){if(e.length<=1)return 0;var t=10,a=5,n=100-5,c=100-20,i=r.I(d.current),s=r.I(m.current),l=r.I(u.current),o=r.I(f.current);e.forEach((function(e){e.dailyactive=e.dailyconfirmed-e.dailyrecovered-e.dailydeceased}));var p=r.H().domain(r.h(e,(function(e){return e.date}))).range([a,n]),h=[i,s,l,o],v=["dailyconfirmed","dailyactive","dailyrecovered","dailydeceased"],E=["#ff073a","#007bff","#28a745","#6c757d"],g=r.x(e,(function(e){return e.dailyactive})),b=r.w(e,(function(e){return Math.max(e.dailyconfirmed,e.dailyrecovered,e.dailydeceased)})),y=Math.max(-g,b),O=r.D().domain([-y,y]).range([c,t]);h.forEach((function(t,a){var n=v[a],c=E[a],i=t.append("path").datum(e).attr("fill","none").attr("stroke",c+"99").attr("stroke-width",2.5).attr("cursor","pointer").attr("d",r.v().x((function(e){return p(e.date)})).y((function(e){return O(e[n])})).curve(r.e)),s=i.node().getTotalLength();i.attr("stroke-dasharray",s+" "+s).attr("stroke-dashoffset",s).transition().delay(500).duration(2500).attr("stroke-dashoffset",0),t.selectAll(".dot").data(e.slice(e.length-1)).enter().append("circle").attr("fill",c).attr("stroke",c).attr("r",2).attr("cursor","pointer").attr("cx",(function(e){return p(e.date)})).attr("cy",(function(e){return O(e[n])})).on("mouseover",(function(e){r.I(r.g.target).attr("r","5")})).on("mouseout",(function(e){r.I(r.g.target).attr("r","2")})).style("opacity",0).transition().delay(500).duration(2500).style("opacity",1)}))}),[]);return Object(c.useEffect)((function(){p(l)}),[l,p]),i.a.createElement("div",{className:"Minigraph"},i.a.createElement("div",{className:"svg-parent fadeInUp",style:{animationDelay:"1.4s"}},i.a.createElement("svg",{ref:d,width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"})),i.a.createElement("div",{className:"svg-parent is-blue fadeInUp",style:{animationDelay:"1.5s"}},i.a.createElement("svg",{ref:m,width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"})),i.a.createElement("div",{className:"svg-parent is-green fadeInUp",style:{animationDelay:"1.6s"}},i.a.createElement("svg",{ref:u,width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"})),i.a.createElement("div",{className:"svg-parent is-gray fadeInUp",style:{animationDelay:"1.7s"}},i.a.createElement("svg",{ref:f,width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"})))}))},254:function(e,t,a){"use strict";var n=a(31),r=a(56),c=a(184),i=a.n(c),s=a(185),l=a(176);function o(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=l.I(".color-scale").node(),n=(a.width=t,a.height=1,a).getContext("2d"),r=0;r<t;++r)n.fillStyle=e(r/(t-1)),n.fillRect(r,0,1,1);return a}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,a=e.title,n=e.tickSize,r=void 0===n?6:n,c=e.width,i=void 0===c?320:c,s=e.height,d=void 0===s?44+r:s,m=e.marginTop,u=void 0===m?18:m,f=e.marginRight,p=void 0===f?0:f,h=e.marginBottom,v=void 0===h?16+r:h,E=e.marginLeft,g=void 0===E?0:E,b=e.svg,y=e.ticks,O=void 0===y?i/64:y,N=e.tickFormat,j=e.tickValues,x=e.ordinalWeights;b||(b=l.d("svg").attr("width",i).attr("height",d).attr("viewBox",[0,0,i,d]).style("overflow","visible").style("display","block"));var T,w=b.transition().duration(500),k=function(e){e.selectAll(".tick line").attr("y1",u+v-d)};if(t.interpolate){var M=Math.min(t.domain().length,t.range().length);T=t.copy().rangeRound(l.A(l.o(g,i-p),M)),b.select(".ramp").attr("class","ramp").attr("x",g).attr("y",u).attr("width",i-g-p).attr("height",d-u-v).attr("preserveAspectRatio","none").attr("xlink:href",o(t.copy().domain(l.A(l.o(0,1),M))).toDataURL())}else if(t.interpolator){if(b.selectAll("rect").transition(w).attr("opacity",0),T=Object.assign(t.copy().interpolator(l.t(g,i-p)),{range:function(){return[g,i-p]}}),b.select(".ramp").attr("class","ramp").attr("x",g).attr("y",u).attr("width",i-g-p).attr("height",d-u-v).attr("preserveAspectRatio","none").attr("xlink:href",o(t.interpolator()).toDataURL()).transition(w).attr("opacity",1),!T.ticks){if(void 0===j){var S=Math.round(O+1);j=l.B(S).map((function(e){return l.z(t.domain(),e/(S-1))}))}"function"!==typeof N&&(N=l.l(void 0===N?",f":N))}}else if(t.invertExtent){var I=t.thresholds?t.thresholds():t.quantiles?t.quantiles():t.domain(),D=void 0===N?function(e){return e}:"string"===typeof N?l.l(N):N;T=l.D().domain([-1,t.range().length-1]).rangeRound([g,i-p]),b.append("g").selectAll("rect").data(t.range()).join("rect").attr("x",(function(e,t){return T(t-1)})).attr("y",u).attr("width",(function(e,t){return T(t)-T(t-1)})).attr("height",d-u-v).attr("fill",(function(e){return e})),j=l.B(-1,I.length),N=function(e){return-1===e?D(1):e!==I.length-1?e===I.length-2?D(I[e]+"+",e):D(I[e],e):void 0}}else{if(b.select(".ramp").transition(w).attr("opacity",0).attr("xlink:href",null),x){var C=l.D().domain([0,x.reduce((function(e,t){return e+t}))]).rangeRound([0,i-g-p]),R=x.map((function(e,t){return x.slice(0,t).reduce((function(e,t){return e+C(t)}),g)}));T=l.F().domain(t.domain()).range(R),b.selectAll("rect").data(t.domain()).join((function(e){return e.append("rect").attr("x",T).attr("width",(function(e,t){return C(x[t])}))})).attr("y",u).attr("height",d-u-v).attr("fill",t).transition(w).attr("x",T).attr("width",(function(e,t){return C(x[t])})).attr("opacity",1)}else T=l.C().domain(t.domain()).rangeRound([g,i-p]),b.selectAll("rect").data(t.domain()).join("rect").attr("x",T).attr("y",u).attr("width",Math.max(0,T.bandwidth()-1)).attr("height",d-u-v).attr("fill",t);k=function(){}}return b.select(".axis").attr("transform","translate(0,".concat(d-v,")")).transition(w).attr("class","axis").call(l.a(T).ticks(O,"string"===typeof N?N:void 0).tickFormat("function"===typeof N?N:void 0).tickSize(r).tickValues(j)).on("start",(function(){b.call(k).call((function(e){return e.select(".domain").remove()}))})).call((function(e){return e.select(".axistext").attr("class","axistext").attr("x",g).attr("y",u+v-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").text(a)})),b.node()},m=a(32),u=a(72),f=a(0),p=a.n(f),h=a(594),v=a(172),E=a(343);var g=function(e){var t,a,n=e.statistic,r=e.mapData,c=e.currentMap,o=e.changeMap,g=e.regionHighlighted,b=e.setRegionHighlighted,y=e.isCountryLoaded,O=e.mapOption,N=Object(f.useRef)(null),j=Object(f.useRef)(null),x=Object(v.a)().t,T=m.c[c.name],w=Object(f.useCallback)((function(e){var t,a,i,s=l.I(N.current),f=T.mapType===m.e.COUNTRY?E.a(e,e.objects[T.graphObjectStates]):{features:[]},p=c.view===m.f.DISTRICTS?E.a(e,e.objects[T.graphObjectDistricts]):{features:[]},h=c.view===m.f.STATES?f:p,v=l.m();if(!s.attr("viewBox")){var g=parseInt(s.style("width"));if(y)v.fitWidth(g,h);else{var x=parseInt(s.style("height"));v.fitSize([g,x],h)}var w=(t=l.n(v)).bounds(h);a=+w[1][0],i=+w[1][1],s.attr("viewBox","0 0 ".concat(a," ").concat(i))}var k=s.attr("viewBox").split(" ");a=+k[2],i=+k[3],v.fitSize([a,i],h),t=l.n(v);var M,S=l.I(j.current),I=parseInt(S.style("width")),D=+S.attr("height");if(S.attr("viewBox","0 0 ".concat(I," ").concat(D)),c.stat===m.d.ZONE)M=l.F(["Red","Orange","Green"],["#d73027","#fee08b","#66bd63"]),S.call((function(){return d({color:M,width:I,height:D,tickValues:[],marginLeft:2,marginRight:20,svg:S,ordinalWeights:Object.values(n)})}));else{M=l.G([0,Math.max(1,n[O].max)],(function(e){switch(O){case"confirmed":return l.s(.85*e);case"active":return l.p(.85*e);case"recovered":return l.q(.85*e);case"deceased":return l.r(.85*e);default:return}})).clamp(!0),S.call((function(){return d({color:M,title:Object(u.c)(O)+(c.stat===m.d.PER_MILLION?" cases per million":" cases"),width:I,height:D,ticks:6,tickFormat:function(e,t,a){if(c.stat!==m.d.TOTAL||Number.isInteger(e))return t===a.length-1?Object(u.h)(e)+"+":Object(u.h)(e)},marginLeft:2,marginRight:20,svg:S})}))}S.attr("class",c.stat===m.d.ZONE?"zone":"");var C=f.features.map((function(e){var t=e.properties.st_nm,a=Object.assign({},e);return a.id="".concat(T.graphObjectStates,"-").concat(t),a})),R=p.features.map((function(e){var t=e.properties.district,a=e.properties.st_nm,n=Object.assign({},e);return n.id="".concat(T.graphObjectDistricts,"-").concat(a).concat(t),n})),A=s.transition().duration(500),U=null,_=s.select(c.view===m.f.STATES?".states":".districts").selectAll("path").data(c.view===m.f.STATES?C:R,(function(e){return e.id})).join((function(e){var a=e.append("path").attr("d",t);return a.append("title"),a})).attr("class",(function(e){var t=l.I(this).classed("map-hover");return"path-region ".concat(O," ").concat(t?"map-hover":"")})).style("cursor","pointer").on("mouseenter",(function(e){var t={state:e.properties.st_nm};e.properties.district&&(t.district=e.properties.district),b(t)})).on("mouseleave",(function(e){U===e&&(U=null)})).on("touchstart",(function(e){U=U===e?null:e})).on("click",(function(e){if(l.g.stopPropagation(),U||T.mapType===m.e.STATE)return;s.attr("pointer-events","none"),s.selectAll(".path-region").attr("pointer-events","none"),o(e.properties.st_nm)})).attr("pointer-events","none");_.select("title").text((function(e){if(c.stat===m.d.TOTAL){var t,a=e.properties.st_nm,i=e.properties.district;return t=i?r[a]&&r[a][i]?r[a][i][O]:0:r[a]?r[a][O]:0,Number(parseFloat(t/(n[O].total||.001)*100).toFixed(2)).toString()+"% from "+Object(u.c)(i||a)}})),_.transition(A).attr("fill",(function(e){var t;if(c.stat===m.d.ZONE){var a=e.properties.st_nm,n=e.properties.district;t=r[a]&&r[a][n]?r[a][n]:0}else{var i=e.properties.st_nm,s=e.properties.district;t=s?r[i]&&r[i][s]&&r[i][s][O]?r[i][s][O]:0:r[i]&&r[i][O]?r[i][O]:0}return 0===t?"#ffffff00":M(t)})).attr("stroke",(function(){var e=l.I(this).classed("map-hover");return e&&this.parentNode.appendChild(this),c.stat===m.d.ZONE?e?"#343a40":null:e?"".concat("confirmed"===O?"#ff073a":"active"===O?"#007bff":"recovered"===O?"#28a745":"deceased"===O?"#6c757d":""):null})).transition().attr("pointer-events","all"),s.transition().duration(T.mapType===m.e.STATE?250:0).on("end",(function(){return s.attr("class",c.stat===m.d.ZONE?"zone":"")}));var L=[];T.mapType===m.e.COUNTRY&&((L=[E.b(e,e.objects[T.graphObjectStates])])[0].id=T.graphObjectStates);var F=[];c.view===m.f.DISTRICTS&&((F=[E.b(e,e.objects[T.graphObjectDistricts])])[0].id=T.graphObjectDistricts),s.select(c.view===m.f.STATES?".state-borders":".district-borders").selectAll("path").data(c.view===m.f.STATES?L:F,(function(e){return e.id})).join((function(e){return e.append("path").attr("d",t).attr("stroke-width",a/250)})).attr("fill","none").transition(A).attr("stroke-width",(function(){return T.mapType===m.e.COUNTRY&&c.view===m.f.DISTRICTS?0:a/250})).attr("stroke",(function(){return c.stat===m.d.ZONE?"#00000060":"".concat("confirmed"===O?"#ff073a30":"active"===O?"#007bff30":"recovered"===O?"#28a74530":"deceased"===O?"#6c757d30":"")})),s.select(c.view===m.f.STATES?".districts":".states").selectAll("path").data(c.view===m.f.STATES?R:C,(function(e){return e.id})).join((function(e){return e.append("path").attr("d",t)})).attr("class","path-region").attr("fill","none").attr("stroke","none").attr("pointer-events","none"),s.select(c.view===m.f.STATES?".district-borders":".state-borders").selectAll("path").data(c.view===m.f.STATES?F:L,(function(e){return e.id})).join((function(e){return e.append("path").attr("d",t)})).attr("fill","none").transition(A).attr("stroke-width",a/250).attr("stroke","#343a4099"),s.attr("pointer-events","auto").on("click",(function(){T.mapType!==m.e.STATE&&b({state:"Total"})}))}),[T,c.stat,c.view,n,O,y,r,b,o]);return Object(f.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.u(T.geoDataFile);case 2:t=e.sent,n&&N.current&&w(t);case 4:case"end":return e.stop()}}),e)})))()}),[T,n,w]),Object(f.useEffect)((function(){!function(e){var t=l.J(".path-region");t.attr("stroke",null),t.classed("map-hover",(function(t,a,n){var r;return e.district===(null===(r=t.properties)||void 0===r?void 0:r.district)&&e.state===t.properties.st_nm&&(n[a].parentNode.appendChild(n[a]),l.I(n[a]).attr("stroke",(function(e){return c.stat===m.d.ZONE?"#343a40":l.I(this).classed("confirmed")?"#ff073a":l.I(this).classed("active")?"#007bff":l.I(this).classed("recovered")?"#28a745":l.I(this).classed("deceased")?"#6c757d":null})),!0)}))}(g)}),[g,c.stat]),p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"svg-parent fadeInUp",style:{animationDelay:"2.5s"}},p.a.createElement("svg",{id:"chart",preserveAspectRatio:"xMidYMid meet",ref:N},p.a.createElement("g",{className:"states"}),p.a.createElement("g",{className:"districts"}),p.a.createElement("g",{className:"state-borders"}),p.a.createElement("g",{className:"district-borders"})),T.mapType===m.e.STATE&&(null===(t=r[c.name])||void 0===t?void 0:t.Unknown)&&(null===(a=r[c.name])||void 0===a?void 0:a.Unknown[O])?p.a.createElement("div",{className:"disclaimer"},p.a.createElement(h.a,null),x("District-wise {{mapOption}} numbers are under reconciliation",{mapOption:x(O)})):""),p.a.createElement("div",{className:"svg-parent legend fadeInUp",style:{animationDelay:"2.5s"}},p.a.createElement("svg",{id:"legend",height:"50",preserveAspectRatio:"xMidYMid meet",ref:j},p.a.createElement("image",{className:"ramp"}),p.a.createElement("g",{className:"axis"},p.a.createElement("text",{className:"axistext"}))),p.a.createElement("canvas",{className:"color-scale",style:{position:"absolute",height:0}})),p.a.createElement("svg",{style:{position:"absolute",height:0}},p.a.createElement("defs",null,p.a.createElement("filter",{id:"balance-color",colorInterpolationFilters:"sRGB"},p.a.createElement("feColorMatrix",{type:"matrix",values:"0.91372549 0 0 0 0.08627451 0 0.91372549 0 0 0.08627451 0 0 0.854901961 0 0.145098039 0 0 0 1 0"})))))},b=a(198),y=a(48),O=a(177),N=a.n(O),j=a(86),x=a.n(j),T=a(596),w=a(597),k=a(598),M=a(33),S=function(e){if(e)return Object(r.a)({},e)};t.a=p.a.memo((function(e){var t,a=e.mapName,c=e.states,i=e.districts,s=e.zones,l=e.stateTestData,o=e.regionHighlighted,d=e.setRegionHighlighted,h=e.anchor,E=e.setAnchor,O=e.mapOption,N=e.setMapOption,j=e.isCountryLoaded,I=void 0===j||j,D=Object(v.a)().t,C=Object(f.useState)({name:a,stat:m.d.TOTAL,view:m.c[a].mapType===m.e.COUNTRY?m.f.STATES:m.f.DISTRICTS}),R=Object(n.a)(C,2),A=R[0],U=R[1],_=m.c[A.name],L=Object(f.useMemo)((function(){var e={},t={};if(A.stat===m.d.ZONE){if(t=["Red","Orange","Green"].reduce((function(e,t){return e[t]=0,e}),{}),_.mapType===m.e.COUNTRY)e=Object.keys(s).reduce((function(e,a){return e[a]=Object.keys(s[a]).reduce((function(e,n){var r=s[a][n].zone;return r&&(e[n]=r,t[r]+=1),e}),{}),e}),{});else if(_.mapType===m.e.STATE){var a=A.name;e[a]=Object.keys(s[a]).reduce((function(e,n){var r=s[a][n].zone;return r&&(e[n]=r,t[r]+=1),e}),{})}}else{var n=["confirmed","active","recovered","deceased"];if(t=n.reduce((function(e,t){return e[t]={total:0,max:0},e}),{}),_.mapType===m.e.COUNTRY)e=c.reduce((function(e,a){return e[a.state]={},n.forEach((function(n){var r=parseInt(a["deceased"!==n?n:"deaths"])||0;A.stat===m.d.PER_MILLION&&(r=1e6*r/m.k[a.state]),"Total"!==a.state&&(t[n].total+=r,r>t[n].max&&(t[n].max=r)),e[a.state][n]=r})),e}),{});else if(_.mapType===m.e.STATE){var r=(i[A.name]||{districtData:{}}).districtData;e[A.name]=Object.keys(r).reduce((function(e,a){return e[a]={},n.forEach((function(n){var c=parseInt(r[a][n]);t[n].total+=c,c>t[n].max&&(t[n].max=c),e[a][n]=c})),e}),{}),e[A.name].Total=c.find((function(e){return A.name===e.state}))}}return[t,e]}),[A.name,A.stat,_.mapType,i,s,c]),F=Object(n.a)(L,2),P=F[0],Y=F[1],B=Object(f.useMemo)((function(){if(o.district){var e=function(e,t){if(e)return Object(r.a)({},e)}((i[o.state]||{districtData:{}}).districtData[o.district]||{confirmed:0,active:0,recovered:0,deaths:0},o.district),t=S(c.find((function(e){return e.state===o.state})));return e.district=o.district,e.state=t.state,_.mapType===m.e.COUNTRY&&(t=c.find((function(e){return"Total"===e.state}))),[e,t]}var a=S(c.find((function(e){return o.state===e.state})));return[a,a]}),[c,i,_.mapType,o]),H=Object(n.a)(B,2),Z=H[0],W=H[1];Object(f.useEffect)((function(){if(void 0!==o&&null!==o)if("district"in o){if(A.name!==o.state&&(_.mapType!==m.e.COUNTRY||A.view!==m.f.DISTRICTS)){var e=o.state;if(!m.c[e])return;U({name:e,view:m.f.DISTRICTS,stat:A.stat===m.d.PER_MILLION?m.d.TOTAL:A.stat})}}else I&&_.mapType===m.e.STATE&&U({name:"India",view:A.stat===m.d.ZONE?m.f.DISTRICTS:m.f.STATES,stat:A.stat})}),[I,o,A,_.mapType]);var z,V,G=Object(f.useCallback)((function(e){var t=m.c[e];if(t)if(t.mapType===m.e.STATE){var a=(i[e]||{districtData:{}}).districtData,n=Object.keys(a).filter((function(e){return"Unknown"!==e})).sort((function(e,t){return a[t].confirmed-a[e].confirmed}))[0];x.a.unstable_batchedUpdates((function(){d({district:n,state:e}),U({name:e,view:m.f.DISTRICTS,stat:A.stat===m.d.PER_MILLION?m.d.TOTAL:A.stat})}))}else x.a.unstable_batchedUpdates((function(){U({name:"India",view:A.stat===m.d.ZONE?m.f.DISTRICTS:m.f.STATES,stat:A.stat}),d({state:"Total"})}))}),[A.stat,i,d]),X=Object(f.useMemo)((function(){return l.find((function(e){return e.state===W.state&&""!==e.totaltested}))}),[l,W]);if(A.stat!==m.d.ZONE){var J=Z.district&&Y[Z.state]?Y[Z.state][Z.district]:Z.state!==A.name?Y[Z.state]:Y[Z.state].Total;z=J?A.stat===m.d.PER_MILLION?Number(parseFloat(J[O]).toFixed(2)):J[O]:0}else V=s[Z.state]&&s[Z.state][Z.district]?s[Z.state][Z.district].zone:"";return p.a.createElement("div",{className:"MapExplorer fadeInUp ".concat("mapexplorer"===h?"stickied":""),style:{animationDelay:"1.5s",display:"timeseries"===h?"none":""}},window.innerWidth>769&&p.a.createElement("div",{className:"anchor ".concat("mapexplorer"===h?"stickied":""),onClick:function(){E("mapexplorer"===h?null:"mapexplorer")}},p.a.createElement(T.a,null)),p.a.createElement("div",{className:"header"},p.a.createElement("h1",null,D(A.name)," ",D("Map")),p.a.createElement("h6",null,D("{{action}} over a {{mapType}} for more details",{action:D(window.innerWidth<=769?"Tap":"Hover"),mapType:D(_.mapType===m.e.COUNTRY?"state/UT":"District")}))),p.a.createElement("div",{className:"map-stats"},p.a.createElement("div",{className:"stats fadeInUp ".concat("confirmed"===O?"focused":""),style:{animationDelay:"2s"},onClick:function(){return N("confirmed")}},p.a.createElement("h5",null,window.innerWidth<=769?D("Cnfmd"):D("Confirmed")),p.a.createElement("div",{className:"stats-bottom"},p.a.createElement("h1",null,Object(u.h)(W.confirmed)),p.a.createElement("h6",null,"+".concat(Object(u.h)(W.deltaconfirmed))))),p.a.createElement("div",{className:"stats is-blue fadeInUp ".concat("active"===O?"focused":""),style:{animationDelay:"2.1s"},onClick:function(){return N("active")}},p.a.createElement("h5",null,window.innerWidth<=769?D("Actv"):D("Active")),p.a.createElement("div",{className:"stats-bottom"},p.a.createElement("h1",null,Object(u.h)(W.active)),p.a.createElement("h6",null," "))),p.a.createElement("div",{className:"stats is-green fadeInUp ".concat("recovered"===O?"focused":""),style:{animationDelay:"2.2s"},onClick:function(){return N("recovered")}},p.a.createElement("h5",null,window.innerWidth<=769?D("Rcvrd"):D("Recovered")),p.a.createElement("div",{className:"stats-bottom"},p.a.createElement("h1",null,Object(u.h)(W.recovered)),p.a.createElement("h6",null,"+".concat(Object(u.h)(W.deltarecovered))))),p.a.createElement("div",{className:"stats is-gray fadeInUp ".concat("deceased"===O?"focused":""),style:{animationDelay:"2.3s"},onClick:function(){return N("deceased")}},p.a.createElement("h5",null,window.innerWidth<=769?D("Dcsd"):D("Deceased")),p.a.createElement("div",{className:"stats-bottom"},p.a.createElement("h1",null,Object(u.h)(W.deaths)),p.a.createElement("h6",null,"+".concat(Object(u.h)(W.deltadeaths))))),p.a.createElement("div",{className:"stats is-purple tested fadeInUp",style:{animationDelay:"2.4s"}},p.a.createElement("h5",null,D("Tested")),p.a.createElement("div",{className:"stats-bottom"},p.a.createElement("h1",null,Object(u.h)(null===X||void 0===X?void 0:X.totaltested))),p.a.createElement("h6",{className:"timestamp"},isNaN(Object(y.a)(null===X||void 0===X?void 0:X.updatedon,"dd/MM/yyyy",new Date))?"":D("As of {{date}}",{date:Object(u.f)(null===X||void 0===X?void 0:X.updatedon)})),(null===X||void 0===X||null===(t=X.totaltested)||void 0===t?void 0:t.length)>1&&p.a.createElement("a",{href:X.source,target:"_noblank"},p.a.createElement(w.a,null)),"Total"===W.state?b.a:"")),p.a.createElement("div",{className:"meta fadeInUp",style:{animationDelay:"2.4s"}},p.a.createElement("h2",{className:"".concat(A.stat!==m.d.ZONE?"confirmed"!==O?O:"":V)},Z.district?D(Z.district):D(Z.state)),_.mapType!==m.e.STATE&&W.lastupdatedtime&&p.a.createElement("div",{className:"last-update"},p.a.createElement("h6",null,D("Last updated")),p.a.createElement("h3",null,isNaN(Date.parse(Object(u.d)(W.lastupdatedtime)))?"":Object(u.g)(W.lastupdatedtime)+" "+D("ago"))),_.mapType===m.e.STATE?p.a.createElement(M.b,{to:"state/".concat(m.j[W.state])},p.a.createElement("div",{className:"button state-page-button"},p.a.createElement("abbr",null,D("Visit state page")),p.a.createElement(k.a,null))):null,A.stat!==m.d.ZONE&&(_.mapType===m.e.STATE||_.mapType===m.e.COUNTRY&&A.stat!==m.d.TOTAL)?p.a.createElement("h1",{className:"district ".concat("confirmed"!==O?O:"")},z,p.a.createElement("br",null),p.a.createElement("span",null,D(O)," ",A.stat===m.d.PER_MILLION?" ".concat(D("per million")):"")):null,_.mapType===m.e.STATE?p.a.createElement("div",{className:"button back-button",onClick:function(){return G("India")}},D("Back")):null,_.mapType===m.e.STATE&&Y.Unknown&&Y.Unknown[O]>0?p.a.createElement("h4",{className:"unknown"},D("Districts unknown for")," ",Y.Unknown[O]," ",D("people")):null),p.a.createElement("div",null,O&&p.a.createElement(g,{statistic:P,currentMap:A,mapData:Y,regionHighlighted:o,setRegionHighlighted:d,changeMap:G,isCountryLoaded:I,mapOption:O})),p.a.createElement("div",{className:"tabs-map"},p.a.createElement("div",{className:"tab ".concat(A.stat===m.d.TOTAL?"focused":""),onClick:function(){U({name:A.name,view:_.mapType===m.e.COUNTRY?m.f.STATES:m.f.DISTRICTS,stat:m.d.TOTAL}),_.mapType===m.e.COUNTRY&&d({state:o.state})}},p.a.createElement("h4",null,D("Total Cases"))),I&&p.a.createElement("div",{className:"tab ".concat(A.stat===m.d.PER_MILLION?"focused":""),onClick:function(){_.mapType!==m.e.STATE&&(U({name:A.name,view:m.f.STATES,stat:m.d.PER_MILLION}),d({state:o.state}))}},p.a.createElement("h4",null,D("Cases per million"),p.a.createElement("sup",null,"\u2020"))),p.a.createElement("div",{className:"tab ".concat(A.stat===m.d.ZONE?"focused":""),onClick:function(){U({name:A.name,view:m.f.DISTRICTS,stat:m.d.ZONE}),_.mapType===m.e.COUNTRY&&d({state:"Total"})}},p.a.createElement("h4",null,D("Zones")))),p.a.createElement("h6",{className:"footnote table-fineprint"},"\u2020 ",D("Based on 2019 population projection by NCP")+" (",p.a.createElement("a",{href:"https://nhm.gov.in/New_Updates_2018/Report_Population_Projection_2019.pdf",target:"_noblank",style:{color:"#6c757d"}},D("source")),")"))}),(function(e,t){return!!N()(e.regionHighlighted,t.regionHighlighted)&&(!!N()(e.mapOption,t.mapOption)&&!!N()(e.anchor,t.anchor))}))},255:function(e,t,a){"use strict";var n=a(31),r=a(188),c=a(198),i=a(72),s=a(344),l=a(0),o=a.n(l),d=a(176),m=a(428),u=a(240),f=a(177),p=a.n(f),h=a(172);var v=o.a.memo((function(e){var t=e.timeseriesProp,a=e.chartType,f=e.mode,p=e.logMode,v=e.stateCode,E=Object(h.a)().t,g=Object(l.useState)(window.innerWidth>512?1/0:30),b=Object(n.a)(g,2),y=b[0],O=b[1],N=Object(l.useState)({}),j=Object(n.a)(N,2),x=j[0],T=j[1],w=Object(l.useState)({}),k=Object(n.a)(w,2),M=k[0],S=k[1],I=Object(l.useState)(0),D=Object(n.a)(I,2),C=D[0],R=D[1],A=Object(l.useState)(!1),U=Object(n.a)(A,2),_=U[0],L=U[1],F=Object(l.useRef)(),P=Object(l.useRef)(),Y=Object(l.useRef)(),B=Object(l.useRef)(),H=Object(l.useRef)(),Z=Object(l.useRef)(),W=function(e){var t=Object(l.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(l.useEffect)((function(){var t=e.current,a=new s.a((function(e,t){e.forEach((function(e,t){c(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),r}(Z),z=Object(l.useCallback)((function(e){if(e.length>1){var t=Object(i.s)(e,y);R(t.length-1),T(t)}}),[y]);Object(l.useEffect)((function(){z(t)}),[y,t,z]);var V=Object(l.useCallback)((function(e){if(W){var t=W.width,n=W.height,c=15,s=25,l=t-35,o=n-25,h=e.length;S(e[h-1]),R(h-1);var v,E=d.I(F.current),g=d.I(P.current),b=d.I(Y.current),y=d.I(B.current),O=d.I(H.current),N=Object(m.a)(e[0].date,1),j=Object(u.a)(e[h-1].date,1),x=d.H().clamp(!0).domain([N,j]).range([s,l]),T=t<480?4:7,w=function(e){return e.attr("class","x-axis").call(d.a(x).ticks(T).tickFormat((function(e){return Object(i.j)(e)})))},k=function(e,t){e.attr("class","x-axis2").call(d.a(x).tickValues([]).tickSize(0)).select(".domain").style("transform","translateY(".concat(t(0),"px)")),t(0)!==o?e.select(".domain").attr("opacity",.4):e.select(".domain").attr("opacity",0)},M=function(e,t){return e.attr("class","y-axis").call(d.b(t).ticks(4,"0~s").tickPadding(5))},I=1===a,D=["totalconfirmed","totalactive","totalrecovered","totaldeceased","totaltested"],C=["dailyconfirmed","dailyactive","dailyrecovered","dailydeceased","dailytested"],A=["#ff073a","#007bff","#28a745","#6c757d","#201aa2"],U=[E,g,b,y,O];if(I){var _=d.x(e,(function(e){return Math.min(e.totalactive,e.totalrecovered,e.totaldeceased)})),Z=d.w(e,(function(e){return e.totalconfirmed})),z=d.D().clamp(!0).domain([_,Math.max(1,1.2*Z)]).nice().range([o,c]),V=d.E().clamp(!0).domain([Math.max(1,_),Math.max(10,1.2*Z)]).nice().range([o,c]);v=D.map((function(t){var a=d.D().clamp(!0).domain([d.x(e,(function(e){return e[t]})),Math.max(1,1.2*d.w(e,(function(e){return e[t]})))]).nice().range([o,c]),n=d.E().clamp(!0).domain([Math.max(1,d.x(e,(function(e){return e[t]}))),Math.max(10,1.2*d.w(e,(function(e){return e[t]})))]).nice().range([o,c]);return f&&"totaltested"!==t?p?V:z:p?n:a}))}else{var G=d.D().clamp(!0).domain([1.1*Math.min(0,d.x(e,(function(e){return e.dailyactive}))),Math.max(1,1.2*d.w(e,(function(e){return Math.max(e.dailyconfirmed,e.dailyrecovered,e.dailydeceased)})))]).nice().range([o,c]);v=C.map((function(t){return f&&"dailytested"!==t?G:d.D().clamp(!0).domain([1.1*Math.min(0,d.x(e,(function(e){return e[t]}))),Math.max(1,1.2*d.w(e,(function(e){return e[t]})))]).nice().range([o,c])}))}var X=U.map((function(t,a){return t.selectAll(".focus").data([e[h-1]],(function(e){return e.date})).join((function(e){return e.append("circle").attr("cx",(function(e){return x(e.date)}))})).attr("class","focus").attr("fill",A[a]).attr("stroke",A[a]).attr("r",4)}));U.forEach((function(t,a){var n=t.transition().duration(500),c=D[a],i=C[a],s=I?c:i,m=e.filter((function(e){return!isNaN(e[s])})),u=A[a],f=v[a];if(t.select(".x-axis").style("transform","translateY(".concat(o,"px)")).transition(n).call(w),t.select(".x-axis2").transition(n).call(k,f),t.select(".y-axis").style("transform","translateX(".concat(l,"px)")).transition(n).call(M,f),t.selectAll(".dot").data(m,(function(e){return e.date})).join((function(e){return e.append("circle").attr("cy",o).attr("cx",(function(e){return x(e.date)}))})).attr("class","dot").attr("fill",u).attr("stroke",u).attr("r",2).transition(n).attr("cx",(function(e){return x(e.date)})).attr("cy",(function(e){return f(e[s])})),isNaN(e[h-1][s])?X[a].transition(n).attr("opacity",0):X[a].transition(n).attr("cx",(function(e){return x(e.date)})).attr("cy",(function(e){return f(e[s])})).attr("opacity",1),I){t.selectAll(".stem").remove();var p=t.selectAll(".trend").data([Object(r.a)(m).reverse()]).join("path").attr("class","trend").attr("fill","none").attr("stroke",u+"99").attr("stroke-width",4);if(p.attr("d")){var E=p.node().getTotalLength(),g=p.node().getPointAtLength(E);p.attr("d",(function(){return p.attr("d")+"L".concat(g.x,",").concat(g.y).repeat(3*h)}))}p.transition(n).attr("opacity",I?1:0).attr("d",d.v().x((function(e){return x(e.date)})).y((function(e){return f(e[c])})).curve(d.f))}else t.selectAll(".trend").remove(),t.selectAll(".stem").data(m,(function(e){return e.date})).join((function(e){return e.append("line").attr("x1",(function(e){return x(e.date)})).attr("y1",o).attr("x2",(function(e){return x(e.date)})).attr("y2",o)})).attr("class","stem").style("stroke",u+"99").style("stroke-width",4).transition(n).attr("x1",(function(e){return x(e.date)})).attr("y1",f(0)).attr("x2",(function(e){return x(e.date)})).attr("y2",(function(e){return f(e[i])}));t.on("mousemove",J).on("touchmove",J).on("mouseout",q).on("touchend",q)}))}function J(){var t=d.y(this)[0],a=x.invert(t),n=(0,d.c((function(e){return e.date})).left)(e,a,1);if(0<=n&&n<h){a-e[n-1].date<e[n].date-a&&--n,S(e[n]),R(n),L(!0);var r=e[n];X.forEach((function(e,t){var a=v[t],n=I?D[t]:C[t];isNaN(r[n])?e.attr("opacity",0):e.attr("cx",x(r.date)).attr("cy",a(r[n])).attr("opacity",1)}))}}function q(){S(e[h-1]),R(h-1),L(!1),X.forEach((function(t,a){var n=v[a],r=I?D[a]:C[a];isNaN(e[h-1][r])?t.attr("opacity",0):t.attr("cx",x(e[h-1].date)).attr("cy",n(e[h-1][r])).attr("opacity",1)}))}}),[a,W,p,f]);Object(l.useEffect)((function(){x.length>1&&V(x)}),[x,V]);var G=M.date?Object(i.i)(M.date):"",X=1===a?"totalconfirmed":"dailyconfirmed",J=1===a?"totalactive":"dailyactive",q=1===a?"totalrecovered":"dailyrecovered",K=1===a?"totaldeceased":"dailydeceased",Q=1===a?"totaltested":"dailytested",$=function(e){if(x.length<=0||C<=0||C>=x.length)return"";var t=x[C][e]-x[C-1][e],a=Object(i.h)(t);return t>=0?"+".concat(a):a};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"TimeSeries fadeInUp",style:{animationDelay:"2.7s"}},o.a.createElement("div",{className:"svg-parent",ref:Z},o.a.createElement("div",{className:"stats"},o.a.createElement("h5",{className:"".concat(_?"":"title")},E("Confirmed")),o.a.createElement("h5",{className:"".concat(_?"title":"")},"".concat(G)),o.a.createElement("div",{className:"stats-bottom"},o.a.createElement("h2",null,Object(i.h)(M[X])),o.a.createElement("h6",null,$(X)))),o.a.createElement("svg",{ref:F,preserveAspectRatio:"xMidYMid meet"},o.a.createElement("g",{className:"x-axis"}),o.a.createElement("g",{className:"x-axis2"}),o.a.createElement("g",{className:"y-axis"}))),o.a.createElement("div",{className:"svg-parent is-blue"},o.a.createElement("div",{className:"stats is-blue"},o.a.createElement("h5",{className:"".concat(_?"":"title")},E("Active")),o.a.createElement("h5",{className:"".concat(_?"title":"")},"".concat(G)),o.a.createElement("div",{className:"stats-bottom"},o.a.createElement("h2",null,Object(i.h)(M[J])),o.a.createElement("h6",null,$(J)))),o.a.createElement("svg",{ref:P,preserveAspectRatio:"xMidYMid meet"},o.a.createElement("g",{className:"x-axis"}),o.a.createElement("g",{className:"x-axis2"}),o.a.createElement("g",{className:"y-axis"}))),o.a.createElement("div",{className:"svg-parent is-green"},o.a.createElement("div",{className:"stats is-green"},o.a.createElement("h5",{className:"".concat(_?"":"title")},E("Recovered")),o.a.createElement("h5",{className:"".concat(_?"title":"")},"".concat(G)),o.a.createElement("div",{className:"stats-bottom"},o.a.createElement("h2",null,Object(i.h)(M[q])),o.a.createElement("h6",null,$(q)))),o.a.createElement("svg",{ref:Y,preserveAspectRatio:"xMidYMid meet"},o.a.createElement("g",{className:"x-axis"}),o.a.createElement("g",{className:"x-axis2"}),o.a.createElement("g",{className:"y-axis"}))),o.a.createElement("div",{className:"svg-parent is-gray"},o.a.createElement("div",{className:"stats is-gray"},o.a.createElement("h5",{className:"".concat(_?"":"title")},E("Deceased")),o.a.createElement("h5",{className:"".concat(_?"title":"")},"".concat(G)),o.a.createElement("div",{className:"stats-bottom"},o.a.createElement("h2",null,Object(i.h)(M[K])),o.a.createElement("h6",null,$(K)))),o.a.createElement("svg",{ref:B,preserveAspectRatio:"xMidYMid meet"},o.a.createElement("g",{className:"x-axis"}),o.a.createElement("g",{className:"x-axis2"}),o.a.createElement("g",{className:"y-axis"}))),o.a.createElement("div",{className:"svg-parent is-purple"},o.a.createElement("div",{className:"stats is-purple"},o.a.createElement("h5",{className:"".concat(_?"":"title")},E("Tested")," ","TT"===v?c.a:""),o.a.createElement("h5",{className:"".concat(_?"title":"")},"".concat(G)),o.a.createElement("div",{className:"stats-bottom"},o.a.createElement("h2",null,Object(i.h)(M[Q])),o.a.createElement("h6",null,$(Q)))),o.a.createElement("svg",{ref:H,preserveAspectRatio:"xMidYMid meet"},o.a.createElement("g",{className:"x-axis"}),o.a.createElement("g",{className:"x-axis2"}),o.a.createElement("g",{className:"y-axis"})))),o.a.createElement("div",{className:"pills"},o.a.createElement("button",{type:"button",onClick:function(){return O(1/0)},className:y===1/0?"selected":""},E("Beginning")),o.a.createElement("button",{type:"button",onClick:function(){return O(30)},className:30===y?"selected":"","aria-label":"1 month"},"1 ".concat(E("Month"))),o.a.createElement("button",{type:"button",onClick:function(){return O(14)},className:14===y?"selected":"","aria-label":"14 days"},"2 ".concat(E("Weeks")))))}),(function(e,t){return!t.isIntersecting||!!e.isIntersecting&&(!!p()(t.chartType,e.chartType)&&(!!p()(t.mode,e.mode)&&(!!p()(t.logMode,e.logMode)&&!!p()(t.stateCode,e.stateCode))))})),E=(a(310),a(345)),g=a(596),b=a(429),y=a(162);t.a=o.a.memo((function(e){var t=e.timeseries,a=e.activeStateCode,r=e.onHighlightState,c=e.states,i=e.anchor,s=e.setAnchor,d=(e.isIntersecting,Object(y.a)("timeseriesChartType",1)),m=Object(n.a)(d,2),u=m[0],f=m[1],p=Object(l.useState)(!1),O=Object(n.a)(p,2),N=O[0],j=O[1],x=Object(y.a)("timeseriesMode",!0),T=Object(n.a)(x,2),w=T[0],k=T[1],M=Object(y.a)("timeseriesLogMode",!1),S=Object(n.a)(M,2),I=S[0],D=S[1],C=Object(h.a)().t;return o.a.createElement(E.a,{options:{rootMargin:"0px 0px 0px 0px"},onChange:function(e){var t=e.isIntersecting;return j(t)}},o.a.createElement("div",{className:"TimeSeriesExplorer ".concat("timeseries"===i?"stickied":""),style:{display:"mapexplorer"===i?"none":""}},o.a.createElement("div",{className:"timeseries-header fadeInUp",style:{animationDelay:"2.5s"}},window.innerWidth>769&&void 0!==i&&o.a.createElement("div",{className:"anchor ".concat("timeseries"===i?"stickied":""),onClick:function(){s("timeseries"===i?null:"timeseries")}},o.a.createElement(g.a,null)),o.a.createElement("h1",null,C("Spread Trends")),o.a.createElement("div",{className:"tabs"},o.a.createElement("div",{className:"tab ".concat(1===u?"focused":""),onClick:function(){f(1)}},o.a.createElement("h4",null,C("Cumulative"))),o.a.createElement("div",{className:"tab ".concat(2===u?"focused":""),onClick:function(){f(2)}},o.a.createElement("h4",null,C("Daily")))),o.a.createElement("div",{className:"scale-modes"},o.a.createElement("label",{className:"main"},C("Scale Modes")),o.a.createElement("div",{className:"timeseries-mode"},o.a.createElement("label",{htmlFor:"timeseries-mode"},C("Uniform")),o.a.createElement("input",{id:"timeseries-mode",type:"checkbox",checked:w,className:"switch","aria-label":C("Checked by default to scale uniformly."),onChange:function(e){k(!w)}})),o.a.createElement("div",{className:"timeseries-logmode ".concat(1!==u?"disabled":"")},o.a.createElement("label",{htmlFor:"timeseries-logmode"},C("Logarithmic")),o.a.createElement("input",{id:"timeseries-logmode",type:"checkbox",checked:1===u&&I,className:"switch",disabled:1!==u,onChange:function(e){D(!I)}}))),c&&o.a.createElement("div",{className:"trends-state-name"},o.a.createElement("select",{value:a,onChange:function(e){var t=e.target.selectedOptions[0].getAttribute("statedata");r(JSON.parse(t))}},c.map((function(e){return o.a.createElement("option",{value:e.statecode,key:e.statecode,statedata:JSON.stringify(e)},"TT"===e.statecode?C("All States"):C(e.state))}))))),t&&o.a.createElement(v,{timeseriesProp:t,chartType:u,mode:w,logMode:I,isTotal:"TT"===a,isIntersecting:N}),o.a.createElement("div",{className:"alert"},o.a.createElement(b.a,null),o.a.createElement("div",{className:"alert-right"},C("Tested chart is independent of uniform scaling")))))}),(function(e,t){return!!p()(t.activeStateCode,e.activeStateCode)&&!!p()(t.anchor,e.anchor)}))},617:function(e,t,a){"use strict";a.r(t);var n=a(184),r=a.n(n),c=a(49),i=a(185),s=a(31),l=a(178),o=a.n(l),d=a(176),m=a(0),u=a.n(m),f=a(86),p=a.n(f),h=a(587);var v=u.a.memo((function(e){var t=e.stateCode,a=Object(m.useState)(!1),n=Object(s.a)(a,2),c=n[0],l=n[1],f=Object(m.useState)([]),v=Object(s.a)(f,2),E=v[0],g=v[1],b=Object(m.useState)([]),y=Object(s.a)(b,2),O=y[0],N=y[1];Object(m.useEffect)((function(){function e(){return(e=Object(i.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("https://api.covid19india.org/raw_data.json");case 3:a=e.sent,g(a.data.raw_data.filter((function(e){return e.statecode===t}))),l(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}c||function(){e.apply(this,arguments)}()}),[c,t]),Object(m.useEffect)((function(){N(function(e){var t=e.reduce((function(e,t){return e+t.contractedfromwhichpatientsuspected+", "}),"");t=t.replace(/\s+/g,"");var a=new Set(t.match(/[^,]+/g)),n=[],r=new Set,c=[];return e.forEach((function(e){var t=e.contractedfromwhichpatientsuspected.replace(/\s+/g,"").match(/[^,]+/g);if(t){var i="P"+e.patientnumber;r.add(i),n.push({id:i,group:a.has(i)?"source":"target",raw:e}),t.forEach((function(e){c.push({source:e,target:i})}))}})),c.forEach((function(e){r.has(e.source)||(n.push({id:e.source,group:"source",raw:e.source}),r.add(e.source))})),{nodes:n,links:c}}(E))}),[E]);var j=function(){var e=Object(m.useRef)();Object(m.useEffect)((function(){var t=e.current,a=document.getElementById("clusters").offsetWidth,n=a;t.d3Force("charge").strength(-60),t.d3Force("collision",d.i()),t.d3Force("x",d.j().strength(.3)),t.d3Force("y",d.k().strength(.3)),t.d3Force("box",(function(){for(var e=0,t=O.nodes.length;e<t;++e){var r=O.nodes[e];r.x=Math.max(-a,Math.min(a,r.x)),r.y=Math.max(-n,Math.min(n,r.y))}}))}),[]);var t=document.getElementById("clusters").offsetWidth,a=t;return u.a.createElement(h.a,{ref:e,width:t,height:a,graphData:O,nodeLabel:"id",nodeColor:function(e){return"source"===e.group?"#dc3545":"gray"},linkDirectionalParticleColor:function(){return"red"},linkDirectionalParticles:1,linkDirectionalParticleWidth:function(e){return"P"===e.source.id[0]?2:0},enableZoomPanInteraction:!1})};return Object(m.useEffect)((function(){p.a.render(u.a.createElement(j,null),document.getElementById("clusters"))}),[O]),u.a.createElement("div",{id:"clusters"})}),(function(){return!0})),E=a(177),g=a.n(E),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e){case"dailyconfirmed":return"#dc3545"+t;case"dailyactive":return"#007bff"+t;case"dailyrecovered":return"#28a745"+t;case"dailydeceased":return"#6c757d"+t;default:return}};var y=u.a.memo((function(e){var t=e.timeseries,a=e.caseType,n=Object(m.useState)([]),r=Object(s.a)(n,2),c=r[0],i=r[1],l=Object(m.useRef)();return Object(m.useEffect)((function(){i(t)}),[t]),Object(m.useEffect)((function(){if(c.length){var e=d.I(l.current),t=50,n=0,r=+e.attr("width")-5,i=+e.attr("height")-50,s=d.K("%e %b"),o=d.C().domain(c.map((function(e){return s(e.date)}))).range([n,r]).paddingInner(.33),m=d.D().domain([Math.min(0,d.x(c,(function(e){return e[a]}))),Math.max(1,d.w(c,(function(e){return e[a]})))]).range([i,t]),u=d.a(o).tickSize(0),f=e.transition().duration(500);e.select(".x-axis").transition(f).style("transform","translateY(".concat(m(0),"px)")).call(u).on("start",(function(){return e.select(".domain").remove()})).selectAll("text").attr("y",0).attr("dy",(function(e,t){return c[t][a]<0?"-1em":"1.5em"})).style("text-anchor","middle").attr("fill",b(a)),e.selectAll(".bar").data(c).join("path").attr("class","bar").transition(f).attr("d",(function(e){return function(e,t,a,n,r){return r=Math.sign(n)*Math.min(Math.abs(n),r),["M ".concat(e," ").concat(t),"v ".concat(-n+r),"q 0 ".concat(-r," ").concat(Math.abs(r)," ").concat(-r),"h ".concat(a-2*Math.abs(r)),"q ".concat(Math.abs(r)," 0 ").concat(Math.abs(r)," ").concat(r),"v ".concat(n-r),"Z"].join(" ")}(o(s(e.date)),m(0),o.bandwidth(),m(0)-m(e[a]),5)})).attr("fill",(function(e,t){return t<c.length-1?b(a,"90"):b(a)}));var p=e.selectAll(".label").data(c).join("text").attr("class","label").attr("x",(function(e){return o(s(e.date))+o.bandwidth()/2})).text((function(e){return e[a]}));p.transition(f).attr("fill",b(a)).attr("y",(function(e){return m(e[a])+(e[a]<0?15:-6)})),p.append("tspan").attr("dy",(function(e){return"".concat(e[a]<0?1.2:-1.2,"em")})).attr("x",(function(e){return o(s(e.date))+o.bandwidth()/2})).text((function(e,t){return t&&c[t-1][a]?d.l("+.1~%")((c[t][a]-c[t-1][a])/c[t-1][a]):""})).transition(f).attr("fill",b(a,"90"))}}),[c,a]),u.a.createElement("div",{className:"DeltaBarGraph fadeInUp",style:{animationDelay:"0.8s"}},u.a.createElement("svg",{ref:l,width:"250",height:"250",viewBox:"0 0 250 250",preserveAspectRatio:"xMidYMid meet"},u.a.createElement("g",{className:"x-axis"}),u.a.createElement("g",{className:"y-axis"})))}),(function(e,t){return!!g()(e.caseType,t.caseType)&&!!g()(e.timeseries,t.timeseries)}));var O=a(193),N=a(229),j=a(254),x=a(239),T=a(595);var w=function(e){var t=e.title,a=e.statistic,n=e.total,r=e.formula,c=e.date,i=e.description,s=e.className;return u.a.createElement("div",{className:"meta-item ".concat(s)},u.a.createElement("div",{className:"meta-item-top"},u.a.createElement("h3",null,t),u.a.createElement("span",{"data-tip":r,"data-event":"touchstart mouseover","data-event-off":"mouseleave","data-for":"stateMeta",onClick:function(e){return e.stopPropagation()}},u.a.createElement(T.a,null))),u.a.createElement("h1",null,a),u.a.createElement("h5",null,c),n&&u.a.createElement("h5",null,"India has ".concat(n," CPM")),u.a.createElement("p",null,i))},k=a(72),M=a(70),S=a(48),I=a(610),D=a(202);var C=function(e){var t=e.stateData,a=e.lastTestObject,n=e.population,r=e.lastSevenDaysData,c=e.totalData,i=t.confirmed,s=t.active,l=t.deaths,o=i-s-l,d=r[0].totalconfirmed,m=Object(M.a)(r[0].date,"dd MMM"),f=r[6].totalconfirmed,p=Object(M.a)(r[6].date,"dd MMM"),h=i/n*1e6,v=o/i*100,E=s/i*100,g=l/i*100,b=(null===a||void 0===a?void 0:a.totaltested)/n*1e6,y=(f-d)/d*100,O=c[0].confirmed/13329e5*1e6,N=isNaN(Object(S.a)(null===a||void 0===a?void 0:a.updatedon,"dd/MM/yyyy",new Date))?"":"As of ".concat(Object(M.a)(Object(S.a)(null===a||void 0===a?void 0:a.updatedon,"dd/MM/yyyy",new Date),"dd MMM"));return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"StateMeta population"},u.a.createElement(D.a,{place:"top",type:"dark",effect:"solid",multiline:!0,scrollHide:!0,globalEventOff:"click",id:"stateMeta"}),u.a.createElement("div",{className:"meta-item population fadeInUp"},u.a.createElement("h3",null,"Population"),u.a.createElement("h1",null,Object(k.h)(n))),u.a.createElement("div",{className:"alert"},u.a.createElement(I.a,null),u.a.createElement("div",{className:"alert-right"},"Based on 2019 population projection by NCP"," ",u.a.createElement("a",{href:"https://nhm.gov.in/New_Updates_2018/Report_Population_Projection_2019.pdf",target:"_noblank"},"report")))),u.a.createElement("div",{className:"StateMeta"},u.a.createElement(w,{className:"confirmed",title:"Confirmed Per Million",statistic:h.toFixed(2),total:O.toFixed(2),formula:"(confirmed / state population) * 1 Million",description:"\n            ".concat(Math.round(h)," out of every 1 million people in ").concat(t.state," have tested positive for the virus.\n            ")}),u.a.createElement(w,{className:"active",title:"Active",statistic:"".concat(E.toFixed(2),"%"),formula:"(active / confirmed) * 100",description:"For every 100 confirmed cases, ".concat(E.toFixed(0)," are currently infected.")}),u.a.createElement(w,{className:"recovery",title:"Recovery Rate",statistic:"".concat(v.toFixed(2),"%"),formula:"(recovered / confirmed) * 100",description:"For every 100 confirmed cases, \n            ".concat(Math.round(v.toFixed(0))," have recovered from the virus.")}),u.a.createElement(w,{className:"mortality",title:"Mortality Rate",statistic:"".concat(g.toFixed(2),"%"),formula:"(deceased / confirmed) * 100",description:"For every 100 confirmed cases, \n            ".concat(Math.round(g.toFixed(0))," have unfortunately passed away from the virus.")}),u.a.createElement(w,{className:"gr",title:"Avg. Growth Rate",statistic:y>0?"".concat(Math.round(y/7),"%"):"-",formula:"(((previousDayData - sevenDayBeforeData) / sevenDayBeforeData) * 100)/7",date:"".concat(m," - ").concat(p),description:"In the last one week, the number of new infections has grown by an average of ".concat(Math.round(y/7),"% every day.")}),u.a.createElement(w,{className:"tpm",title:"Tests Per Million",statistic:"\u2248 ".concat(Math.round(b)),formula:"(total tests in state / total population of state) * 1 Million",date:N,description:"For every 1 million people in ".concat(t.state,",\n            ").concat(Math.round(b)," people were tested.")})))},R=a(255),A=a(32),U=a(572),_=a.n(U),L=a(573),F=a.n(L),P=a(94),Y=a(594),B=a(602),H=a(612),Z=a(87),W=a(172),z=a(33),V=a(46),G=a(611),X=a(99);var J=u.a.memo((function(e){var t=e.stateName,a=e.stateCode,n=e.fetched,r=e.allStateData,c=Object(W.a)().t;return u.a.createElement("div",{className:"breadcrumb"},u.a.createElement(_.a,null,u.a.createElement(_.a.Item,{href:"/"},c("Home")),u.a.createElement(F.a,{direction:"w"},u.a.createElement("summary",null,u.a.createElement(_.a.Item,{href:"".concat(a),selected:!0},c(t)),u.a.createElement(F.a.Caret,{className:"caret"})),n&&u.a.createElement(F.a.Menu,{direction:"se"},r.map((function(e){return u.a.createElement(F.a.Item,{key:e.statecode,className:"item"},u.a.createElement(z.b,{to:"".concat(e.statecode)},c(A.h[e.statecode])))}))))))}));t.default=u.a.memo((function(e){var t=Object(V.i)().stateCode.toUpperCase(),a=A.h[t],n=Object(m.useState)({}),l=Object(s.a)(n,2),d=l[0],f=l[1],p=Object(m.useState)(!1),h=Object(s.a)(p,2),E=h[0],g=h[1],b=Object(m.useState)(null),T=Object(s.a)(b,2),w=T[0],D=T[1],U=Object(m.useState)({}),_=Object(s.a)(U,2),L=_[0],F=_[1],z=Object(m.useState)(null),q=Object(s.a)(z,2),K=q[0],Q=q[1],$=Object(m.useState)({}),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(m.useState)({}),re=Object(s.a)(ne,2),ce=re[0],ie=re[1],se=Object(m.useState)({}),le=Object(s.a)(se,2),oe=le[0],de=le[1],me=Object(m.useState)("confirmed"),ue=Object(s.a)(me,2),fe=ue[0],pe=ue[1],he=Object(G.a)(),ve=Object(s.a)(he,2),Ee=ve[0],ge=ve[1].width,be=Object(m.useState)(!1),ye=Object(s.a)(be,2),Oe=ye[0],Ne=ye[1],je=Object(m.useState)({state:a}),xe=Object(s.a)(je,2),Te=xe[0],we=xe[1];Object(X.a)((function(){Ie(t)}));var ke,Me,Se=Object(W.a)().t,Ie=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,i,l,d,m,u,p,h,v,E,b,y,O,N,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([o.a.get("https://api.covid19india.org/data.json"),o.a.get("https://api.covid19india.org/state_district_wise.json"),o.a.get("https://api.covid19india.org/states_daily.json"),o.a.get("https://api.covid19india.org/state_test_data.json"),o.a.get("https://api.covid19india.org/sources_list.json"),o.a.get("https://api.covid19india.org/zones.json")]);case 3:n=e.sent,i=Object(s.a)(n,6),l=i[0].data,d=i[1].data,m=i[2].data,u=i[3].data,p=i[4].data,h=i[5].data,v=A.h[t],E=l.statewise,f(E.filter((function(e){return e.statecode!==t}))),Q([E.find((function(e){return e.statecode===t}))]),b=Object(k.p)(m)[t],y=Object(k.o)(u.states_tested_data)[t],O=Object(k.m)(Object(c.a)({},t,b),Object(c.a)({},t,y)),F(O[t]),de(Object(c.a)({},v,d[v])),N=p.sources_list,ie(N.filter((function(e){return e.statecode===t}))),j=u.states_tested_data,ae(j.filter((function(e){return e.state===v&&""!==e.totaltested}))),D(Object(k.n)(h.zones,a)),g(!0),Object(P.a)({targets:".highlight",duration:200,delay:3e3,translateX:"confirmed"===fe?"".concat(0*ge,"px"):"active"===fe?"".concat(.25*ge,"px"):"recovered"===fe?"".concat(.5*ge,"px"):"deceased"===fe?"".concat(.75*ge,"px"):"0px",easing:"spring(1, 80, 90, 10)",opacity:1}),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),De=te[te.length-1],Ce=A.k[a],Re=function(){var e=window.innerWidth>=540?3:2,t=oe[a]&&Object.keys(oe[a].districtData).length||0;return Math.ceil(t/e)}();return a?u.a.createElement(u.a.Fragment,null,u.a.createElement(Z.a,null,u.a.createElement("title",null,"Coronavirus Outbreak in ",A.h[t]," - covid19india.org"),u.a.createElement("meta",{name:"title",content:"Coronavirus Outbreak in ".concat(A.h[t],": Latest Map and Case Count")})),u.a.createElement("div",{className:"State"},u.a.createElement("div",{className:"state-left"},u.a.createElement(J,{stateName:a,stateCode:t,fetched:E,allStateData:d}),u.a.createElement("div",{className:"header"},u.a.createElement("div",{className:"header-left fadeInUp",style:{animationDelay:"0.3s"}},u.a.createElement("h1",null,Se(a)),u.a.createElement("h5",null,"Last Updated on"," ",K&&Object.keys(K[0]).length?Object(k.e)(K[0].lastupdatedtime):"")),u.a.createElement("div",{className:"header-right fadeInUp",style:{animationDelay:"0.5s"}},u.a.createElement("h5",null,Se("Tested")),u.a.createElement("h2",null,Object(k.h)(null===De||void 0===De?void 0:De.totaltested)),u.a.createElement("h5",{className:"timestamp"},isNaN(Object(S.a)(null===De||void 0===De?void 0:De.updatedon,"dd/MM/yyyy",new Date))?"":"As of ".concat(Object(M.a)(Object(S.a)(null===De||void 0===De?void 0:De.updatedon,"dd/MM/yyyy",new Date),"dd MMM"))),u.a.createElement("h5",null,"per ",(null===De||void 0===De?void 0:De.totaltested)&&u.a.createElement("a",{href:De.source,target:"_noblank"},"source")))),E&&u.a.createElement("div",{className:"map-switcher",ref:Ee},u.a.createElement("div",{className:"highlight ".concat(fe),style:{transform:"translateX(".concat(0*ge,"px)"),opacity:0}}),u.a.createElement("div",{className:"clickable",onClick:function(){pe("confirmed"),Object(P.a)({targets:".highlight",translateX:"".concat(0*ge,"px"),easing:"spring(1, 80, 90, 10)"})}}),u.a.createElement("div",{className:"clickable",onClick:function(){pe("active"),Object(P.a)({targets:".highlight",translateX:"".concat(.25*ge,"px"),easing:"spring(1, 80, 90, 10)"})}}),u.a.createElement("div",{className:"clickable",onClick:function(){pe("recovered"),Object(P.a)({targets:".highlight",translateX:"".concat(.5*ge,"px"),easing:"spring(1, 80, 90, 10)"})}}),u.a.createElement("div",{className:"clickable",onClick:function(){pe("deceased"),Object(P.a)({targets:".highlight",translateX:"".concat(.75*ge,"px"),easing:"spring(1, 80, 90, 10)"})}})),E&&u.a.createElement(N.a,{data:K[0]}),E&&u.a.createElement(x.a,{timeseries:L}),E&&u.a.createElement(j.a,{mapName:a,states:K,districts:oe,zones:w,stateTestData:te,regionHighlighted:Te,setRegionHighlighted:we,mapOption:fe,isCountryLoaded:!1}),E&&u.a.createElement("div",{className:"meta-secondary"},u.a.createElement("div",{className:"alert"},u.a.createElement(Y.a,null),u.a.createElement("div",{className:"alert-right"},"Awaiting district details for"," ",(null===(ke=oe[a])||void 0===ke||null===(Me=ke.districtData.Unknown)||void 0===Me?void 0:Me.confirmed)||"0"," ","cases")),u.a.createElement("div",{className:"alert"},u.a.createElement(I.a,null),u.a.createElement("div",{className:"alert-right"},"Data collected from sources"," ",ce.length>0?Object.keys(ce[0]).map((function(e,t){if(e.match("source")&&""!==ce[0][e]){var a=e.match(/\d+/);return u.a.createElement(u.a.Fragment,{key:t},a>1?",":"",u.a.createElement("a",{href:ce[0][e]},a))}return null})):""))),E&&u.a.createElement(C,{stateData:K[0],lastTestObject:De,population:Ce,lastSevenDaysData:L.slice(-7),totalData:d.filter((function(e){return"TT"===e.statecode}))}),E&&u.a.createElement("div",{className:"Clusters fadeInUp",style:{animationDelay:"0.8s"}},u.a.createElement("h1",null,"Network of Transmission"),u.a.createElement(v,{stateCode:t}))),u.a.createElement("div",{className:"state-right"},E&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"district-bar",style:Oe?{}:{display:"flex"}},u.a.createElement("div",{className:"district-bar-left fadeInUp",style:{animationDelay:"0.6s"}},u.a.createElement("h2",{className:fe},"Top districts"),u.a.createElement("div",{className:"districts ".concat(Oe?"is-grid":""),style:Oe?{gridTemplateRows:"repeat(".concat(Re,", 2rem)")}:{}},oe[a]?Object.keys(oe[a].districtData).filter((function(e){return"Unknown"!==e})).sort((function(e,t){var n=oe[a].districtData[t],r=oe[a].districtData[e];return n[fe]-r[fe]})).slice(0,Oe?void 0:5).map((function(e,t){var n=oe[a].districtData[e];return u.a.createElement("div",{key:t,className:"district"},u.a.createElement("h2",null,n[fe]),u.a.createElement("h5",null,Se(e)),"active"!==fe&&u.a.createElement("div",{className:"delta"},u.a.createElement(B.a,{className:fe}),u.a.createElement("h6",{className:fe},n.delta[fe])))})):""),oe[a]&&Object.keys(oe[a].districtData).length>5&&u.a.createElement("button",{className:"button",onClick:function(){Ne(!Oe)}},Oe?"View less":"View all")),u.a.createElement("div",{className:"district-bar-right"},("confirmed"===fe||"deceased"===fe)&&u.a.createElement("div",{className:"happy-sign fadeInUp",style:{animationDelay:"0.6s"}},L.slice(-5).every((function(e){return 0===e["daily".concat(fe)]}))&&u.a.createElement("div",{className:"alert ".concat("confirmed"===fe?"is-green":"")},u.a.createElement(H.a,null),u.a.createElement("div",{className:"alert-right"},"No new ",fe," cases in the past five days"))),u.a.createElement(y,{timeseries:L.slice(-5),caseType:"daily".concat(fe)}))),u.a.createElement(R.a,{timeseries:L})))),u.a.createElement(O.a,null)):u.a.createElement(V.a,{to:"/"})}))}}]);
//# sourceMappingURL=State.4b92596f.chunk.js.map