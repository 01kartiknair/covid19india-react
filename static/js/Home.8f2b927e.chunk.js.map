{"version":3,"sources":["components/search.js","components/row.js","components/table.js","components/updates.js","components/home.js"],"names":["engine","Bloodhound","initialize","local","STATE_CODES_ARRAY","queryTokenizer","tokenizers","whitespace","datumTokenizer","obj","districtEngine","limit","indexRemote","remote","url","transform","response","districts","Object","keys","map","stateName","districtData","districtName","push","district","state","essentialsEngine","resources","essentialSuggestions","locationSuggestions","React","memo","districtZones","useState","searchValue","setSearchValue","expand","setExpand","results","setResults","searchInput","useRef","t","useTranslation","handleSearch","useCallback","essentialsSync","datums","slice","result","index","essentialsObj","name","nameoftheorganisation","type","category","website","contact","description","descriptionandorserviceprovided","city","phonenumber","search","stateObj","route","code","districtObj","STATE_CODES_REVERSE","setNativeValue","element","value","valueSetter","getOwnPropertyDescriptor","set","prototype","getPrototypeOf","prototypeValueSetter","call","useDebounce","className","ref","onFocus","event","onBlur","onChange","target","id","length","onClick","key","to","STATE_CODES","classnames","zone","toLowerCase","size","href","capitalize","ESSENTIALS_CATEGORIES","split","Fragment","onMouseDown","preventDefault","current","dispatchEvent","Event","bubbles","suggestion","useBreakpoint","createBreakpoint","XL","L","S","StateCell","statistic","ArrowUp","useMemo","formatNumber","DistrictHeaderCell","handleSort","sortData","breakpoint","title","abbreviate","style","display","sortColumn","isAscending","DistrictCell","delta","DistrictRow","regionHighlighted","onHighlightDistrict","sortedDistricts","onMouseEnter","data-for","data-tip","notes","data-event","data-event-off","e","stopPropagation","DISTRICT_ROW_STATISTICS","prevProps","currProps","equal","zones","onHighlightState","setSortedDistricts","showDistricts","setShowDistricts","useLocalStorage","setSortData","history","useHistory","Chevron","rotateRightDown","rotateDownRight","_onHighlightState","doSort","sorted","sort","district1","district2","parseInt","localeCompare","forEach","newSortData","assign","useEffectOnce","statecode","statenotes","STATE_ROW_STATISTICS","colSpan","paddingBottom","isNaN","Date","parse","formatDate","lastupdatedtime","formatLastUpdated","Unknown","align","place","effect","multiline","scrollHide","globalEventOff","StateHeaderCell","states","filter","sortedStates","setSortedStates","FineprintTop","animationDelay","color","FineprintBottom","s","confirmed","newSortedStates","x","y","height","newDate","currentDate","Updates","props","updates","setUpdates","axios","get","then","data","catch","err","console","log","useLayoutEffect","format","reverse","activity","update","replace","activityDate","timestamp","getDate","formatDistance","dangerouslySetInnerHTML","__html","Home","setStates","stateDistrictWiseData","setStateDistrictWiseData","setDistrictZones","stateTestData","setStateTestData","lastUpdated","setLastUpdated","timeseries","setTimeseries","fetched","setFetched","setRegionHighlighted","showUpdates","setShowUpdates","anchor","setAnchor","mapOption","setMapOption","lastViewedLog","setLastViewedLog","newUpdate","setNewUpdate","Bell","BellOff","getStates","lastTimestamp","toString","a","Promise","all","statesDailyResponse","zonesResponse","stateDistrictWiseResponse","statewise","parseDistrictZones","ts","parseStateTimeseries","preprocessTimeseries","cases_time_series","testTs","parseStateTestTimeseries","states_tested_data","parseTotalTestTimeseries","tested","tsMerged","mergeTimeseries","testData","parseStateTestData","totalTest","source","totaltested","totalsamplestested","updatedon","updatetimestamp","Helmet","content","formatDateAbsolute","summary","mapName","activeStateCode"],"mappings":"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","file":"static/js/Home.8f2b927e.chunk.js","sourcesContent":["import {\n  STATE_CODES_ARRAY,\n  STATE_CODES_REVERSE,\n  STATE_CODES,\n  ESSENTIALS_CATEGORIES,\n} from '../constants';\nimport {capitalize} from '../utils/commonfunctions';\n\nimport classnames from 'classnames';\nimport Bloodhound from 'corejs-typeahead';\nimport React, {useState, useCallback, useRef} from 'react';\nimport * as Icon from 'react-feather';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport {useDebounce} from 'react-use';\n\nconst engine = new Bloodhound({\n  initialize: true,\n  local: STATE_CODES_ARRAY,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),\n});\n\nconst districtEngine = new Bloodhound({\n  initialize: true,\n  limit: 5,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('district'),\n  indexRemote: true,\n  remote: {\n    url: 'https://api.covid19india.org/state_district_wise.json',\n    transform: function (response) {\n      const districts = [];\n      Object.keys(response).map((stateName) => {\n        const districtData = response[stateName].districtData;\n        Object.keys(districtData).map((districtName) => {\n          return districts.push({district: districtName, state: stateName});\n        });\n        return null;\n      });\n      return districts;\n    },\n  },\n});\n\nconst essentialsEngine = new Bloodhound({\n  initialize: true,\n  limit: 5,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace(\n    'category',\n    'city',\n    'contact',\n    'descriptionandorserviceprovided',\n    'nameoftheorganisation',\n    'state'\n  ),\n  indexRemote: true,\n  remote: {\n    url: 'https://api.covid19india.org/resources/resources.json',\n    transform: function (response) {\n      return response.resources;\n    },\n  },\n});\n\n/* let focused = false;\nconst suggestions = [\n  'Karnataka',\n  'West Bengal',\n  'Alappuzha',\n  'Senior citizen support bangalore',\n  'Community Kitchen in Kerala',\n  'Groceries Chennai',\n];*/\n\nconst essentialSuggestions = [\n  'Testing Pune',\n  'Delhi Shelter',\n  'Community Kitchen in Kerala',\n  'Groceries Chennai',\n  'Senior citizen support bangalore',\n];\nconst locationSuggestions = [\n  'Mumbai',\n  'Karnataka',\n  'Chennai',\n  'Alappuzha',\n  'Ganjam',\n];\n\nfunction Search({districtZones}) {\n  const [searchValue, setSearchValue] = useState('');\n  const [expand, setExpand] = useState(false);\n  const [results, setResults] = useState([]);\n  const searchInput = useRef(null);\n  const {t} = useTranslation();\n\n  const handleSearch = useCallback((searchInput) => {\n    const results = [];\n\n    const sync = (datums) => {\n      datums.map((result, index) => {\n        const stateObj = {\n          name: result.name,\n          type: 'state',\n          route: result.code,\n        };\n        results.push(stateObj);\n        return null;\n      });\n    };\n\n    const districtSync = (datums) => {\n      datums.slice(0, 3).map((result, index) => {\n        const districtObj = {\n          name: result.district,\n          type: 'district',\n          route: STATE_CODES_REVERSE[result.state],\n        };\n        results.push(districtObj);\n        return null;\n      });\n    };\n\n    const essentialsSync = (datums) => {\n      datums.slice(0, 5).map((result, index) => {\n        const essentialsObj = {\n          name: result.nameoftheorganisation,\n          type: 'essentials',\n          category: result.category,\n          website: result.contact,\n          description: result.descriptionandorserviceprovided,\n          city: result.city,\n          state: result.state,\n          contact: result.phonenumber,\n        };\n        results.push(essentialsObj);\n        return null;\n      });\n      setResults([...results]);\n    };\n\n    const essentialsAsync = (datums) => {\n      // to handle async remote call on initial launch\n      essentialsEngine.search(searchInput, essentialsSync);\n    };\n\n    engine.search(searchInput, sync);\n    districtEngine.search(searchInput, districtSync);\n    essentialsEngine.search(searchInput, essentialsSync, essentialsAsync);\n  }, []);\n\n  useDebounce(\n    () => {\n      if (searchValue) {\n        handleSearch(searchValue);\n      } else {\n        setResults([]);\n      }\n    },\n    100,\n    [searchValue]\n  );\n\n  function setNativeValue(element, value) {\n    const valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;\n    const prototype = Object.getPrototypeOf(element);\n    const prototypeValueSetter = Object.getOwnPropertyDescriptor(\n      prototype,\n      'value'\n    ).set;\n\n    if (valueSetter && valueSetter !== prototypeValueSetter) {\n      prototypeValueSetter.call(element, value);\n    } else {\n      valueSetter.call(element, value);\n    }\n  }\n\n  /* function fillPlaceholder(target, index, cursorPosition, callback) {\n    if (focused) {\n      target.textContent = '';\n      return true;\n    }\n    const text = t(suggestions[index]);\n    const placeholder = target.textContent;\n    target.classList.remove('disappear');\n    target.textContent = placeholder + text[cursorPosition];\n    if (cursorPosition < text.length - 1) {\n      setTimeout(function () {\n        fillPlaceholder(target, index, cursorPosition + 1, callback);\n      }, 200);\n      return true;\n    }\n    callback();\n  }\n\n  function clearPlaceholder(target, callback) {\n    const placeholder = target.textContent;\n    target.classList.add('disappear');\n    if (placeholder.length > 0) {\n      setTimeout(function () {\n        target.textContent = '';\n        clearPlaceholder(target, callback);\n      }, 1000);\n      return true;\n    }\n    callback();\n  }\n\n  function loopThroughSuggestions(target, index) {\n    if (focused) {\n      target.textContent = '';\n      return true;\n    }\n    fillPlaceholder(target, index, 0, function () {\n      setTimeout(function () {\n        clearPlaceholder(target, function () {\n          loopThroughSuggestions(target, (index + 1) % suggestions.length);\n        });\n      }, 2000);\n    });\n  }\n\n  const targetInput = document.getElementById('search-placeholder');\n  if (targetInput) loopThroughSuggestions(targetInput, 0);*/\n\n  return (\n    <div className=\"Search\">\n      <label>{t('Search your city, resources, etc')}</label>\n      <div className=\"line\"></div>\n\n      <div className=\"search-input-wrapper\">\n        <input\n          type=\"text\"\n          value={searchValue}\n          ref={searchInput}\n          onFocus={(event) => {\n            setExpand(true);\n          }}\n          onBlur={() => {\n            setExpand(false);\n          }}\n          onChange={(event) => {\n            setSearchValue(event.target.value);\n          }}\n        />\n        <span id=\"search-placeholder\" className=\"search-placeholder\"></span>\n\n        <div className={`search-button`}>\n          <Icon.Search />\n        </div>\n\n        {searchValue.length > 0 && (\n          <div\n            className={`close-button`}\n            onClick={() => {\n              setSearchValue('');\n              setResults([]);\n            }}\n          >\n            <Icon.X />\n          </div>\n        )}\n\n        {!expand && searchValue.length === 0 && (\n          <div\n            className={`close-button custom`}\n            onClick={() => {\n              setSearchValue('');\n              setResults([]);\n            }}\n          >\n            <Icon.Heart />\n          </div>\n        )}\n      </div>\n\n      {results.length > 0 && (\n        <div className=\"results\">\n          {results.map((result, index) => {\n            if (result.type === 'state' || result.type === 'district') {\n              return (\n                <Link key={index} to={`state/${result.route}`}>\n                  <div className=\"result\">\n                    <div className=\"result-left\">\n                      <div className=\"result-name\">\n                        {`${result.name}`}\n                        {result.type === 'district' &&\n                          `, ${STATE_CODES[result.route]}`}\n                      </div>\n                      <div\n                        className={classnames('result-zone', {\n                          [`is-${districtZones[STATE_CODES[result.route]][\n                            result.name\n                          ]?.zone.toLowerCase()}`]: true,\n                        })}\n                      ></div>\n                    </div>\n                    <div className=\"result-type\">\n                      <span>{[result.route]}</span>\n                      <Icon.ArrowRightCircle size={14} />\n                    </div>\n                  </div>\n                </Link>\n              );\n            } else {\n              return (\n                <a\n                  key={index}\n                  href={result.website || null}\n                  target=\"_noblank\"\n                  className=\"essential-result\"\n                >\n                  <div className=\"result-top\">\n                    <div className=\"result-top-left\">\n                      <div className=\"result-name\">{result.name}</div>\n                      <div className=\"result-location\">\n                        {result.city && `${result.city}, `}\n                        {result.state}\n                      </div>\n                    </div>\n                    <div className=\"result-category\">\n                      <div>\n                        {capitalize(ESSENTIALS_CATEGORIES[result.category])}\n                      </div>\n                      {result.website && <Icon.ExternalLink />}\n                    </div>\n                  </div>\n                  <div className=\"result-description\">{result.description}</div>\n                  <div className=\"result-contacts\">\n                    {result.contact.split('\\n').map((contact) => (\n                      <div key={contact} className=\"result-contact\">\n                        <Icon.Phone />\n                        <a href={`tel:${contact}`}>{contact}</a>\n                      </div>\n                    ))}\n                  </div>\n                </a>\n              );\n            }\n          })}\n        </div>\n      )}\n\n      {expand && (\n        <React.Fragment>\n          <p\n            className=\"feature\"\n            onMouseDown={(event) => {\n              event.preventDefault();\n              setNativeValue(searchInput.current, 'Cyclone Amphan');\n              searchInput.current.dispatchEvent(\n                new Event('input', {bubbles: true})\n              );\n            }}\n          >\n            To those who are in states affected by Cyclone Amphan or have\n            family/friends there, click here to view helplines for assistance.\n          </p>\n          <div className=\"expanded\">\n            <div className=\"expanded-left\">\n              <h3>{t('Essentials')}</h3>\n              <div className=\"suggestions\">\n                {essentialSuggestions.map((suggestion, index) => (\n                  <div className=\"suggestion\" key={index}>\n                    <div>-</div>\n                    <h4\n                      onMouseDown={(event) => {\n                        event.preventDefault();\n                        setNativeValue(searchInput.current, suggestion);\n                        searchInput.current.dispatchEvent(\n                          new Event('input', {bubbles: true})\n                        );\n                      }}\n                    >\n                      {t(suggestion)}\n                    </h4>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"expanded-right\">\n              <h3>{t('Locations')}</h3>\n              <div className=\"suggestions\">\n                {locationSuggestions.map((suggestion, index) => (\n                  <div className=\"suggestion\" key={index}>\n                    <div>-</div>\n                    <h4\n                      onMouseDown={(event) => {\n                        event.preventDefault();\n                        setNativeValue(searchInput.current, suggestion);\n                        searchInput.current.dispatchEvent(\n                          new Event('input', {bubbles: true})\n                        );\n                      }}\n                    >\n                      {t(suggestion)}\n                    </h4>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </React.Fragment>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(Search);\n","import {STATE_ROW_STATISTICS, DISTRICT_ROW_STATISTICS} from '../constants';\nimport {\n  formatDate,\n  formatNumber,\n  formatLastUpdated,\n  capitalize,\n  abbreviate,\n} from '../utils/commonfunctions';\n\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport React, {useState, useCallback, useMemo} from 'react';\nimport * as Icon from 'react-feather';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory} from 'react-router-dom';\nimport ReactTooltip from 'react-tooltip';\nimport {createBreakpoint, useLocalStorage, useEffectOnce} from 'react-use';\n\nconst useBreakpoint = createBreakpoint({XL: 1280, L: 768, S: 350});\n\nfunction StateCell({state, statistic}) {\n  const ArrowUp = useMemo(() => <Icon.ArrowUp />, []);\n\n  return (\n    <td>\n      <span className={classnames('delta', `is-${statistic}`)}>\n        {state[`delta${statistic}`] > 0 && ArrowUp}\n        {state[`delta${statistic}`] > 0 && state[`delta${statistic}`]}\n      </span>\n      <span className=\"total\">\n        {state[statistic] === 0 ? '-' : formatNumber(state[statistic])}\n      </span>\n    </td>\n  );\n}\n\nfunction DistrictHeaderCell({handleSort, statistic, sortData}) {\n  const breakpoint = useBreakpoint();\n  const {t} = useTranslation();\n\n  return (\n    <td onClick={() => handleSort(statistic)}>\n      <div className=\"heading-content\">\n        <abbr\n          className={classnames({[`is-${statistic}`]: breakpoint === 'S'})}\n          title={statistic}\n        >\n          {breakpoint === 'L'\n            ? statistic.slice(0)\n            : breakpoint === 'S'\n            ? capitalize(\n                abbreviate(statistic === 'deaths' ? 'deceased' : statistic)\n              )\n            : t(capitalize(statistic === 'deaths' ? 'deceased' : statistic))}\n        </abbr>\n        <div\n          style={{\n            display: sortData.sortColumn === statistic ? 'initial' : 'none',\n          }}\n        >\n          {sortData.isAscending ? (\n            <div className=\"arrow-up\" />\n          ) : (\n            <div className=\"arrow-down\" />\n          )}\n        </div>\n      </div>\n    </td>\n  );\n}\n\nfunction PureDistrictCell({district, statistic}) {\n  return (\n    <td>\n      <span className={classnames('delta', `is-${statistic}`)}>\n        {district.delta[statistic] > 0 && <Icon.ArrowUp />}\n        {district.delta[statistic] > 0 && district.delta[statistic]}\n      </span>\n      <span className=\"total\">{formatNumber(district[statistic])}</span>\n    </td>\n  );\n}\n\nconst DistrictCell = React.memo(PureDistrictCell);\n\nconst isDistrictRowEqual = (prevProps, currProps) => {\n  if (equal(prevProps.regionHighlighted?.district, prevProps.district)) {\n    return false;\n  }\n  if (equal(currProps.regionHighlighted?.district, currProps.district)) {\n    return false;\n  }\n  return true;\n};\n\nfunction PureDistrictRow({\n  regionHighlighted,\n  district,\n  state,\n  zone,\n  onHighlightDistrict,\n  sortedDistricts,\n  districts,\n}) {\n  const {t} = useTranslation();\n\n  return (\n    <tr\n      key={district.district}\n      className={classnames('district', {\n        'is-highlighted': regionHighlighted?.district === district,\n      })}\n      onMouseEnter={() => onHighlightDistrict(district, state)}\n    >\n      <td className={classnames(`is-${zone?.zone}`)}>\n        <div className=\"title-chevron\">\n          <span className=\"title-icon\">\n            {t(district)}\n            <span\n              data-for=\"district\"\n              data-tip={[[sortedDistricts[district].notes]]}\n              data-event=\"touchstart mouseover\"\n              data-event-off=\"mouseleave\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              {sortedDistricts[district].notes && <Icon.Info />}\n            </span>\n          </span>\n        </div>\n      </td>\n\n      {DISTRICT_ROW_STATISTICS.map((statistic) => (\n        <DistrictCell\n          key={statistic}\n          district={districts[district]}\n          statistic={statistic}\n        />\n      ))}\n    </tr>\n  );\n}\n\nconst DistrictRow = React.memo(PureDistrictRow, isDistrictRowEqual);\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.state.state, currProps.state.state)) {\n    return false;\n  }\n  if (\n    !equal(\n      prevProps.regionHighlighted?.state,\n      currProps.regionHighlighted?.state\n    )\n  ) {\n    return false;\n  }\n  if (\n    !equal(\n      prevProps.regionHighlighted?.district,\n      currProps.regionHighlighted?.district\n    )\n  ) {\n    return false;\n  }\n  return true;\n};\n\nfunction Row({\n  index,\n  state,\n  districts,\n  zones,\n  regionHighlighted,\n  onHighlightState,\n  onHighlightDistrict,\n}) {\n  const [sortedDistricts, setSortedDistricts] = useState(districts);\n  const [showDistricts, setShowDistricts] = useState(false);\n  const [sortData, setSortData] = useLocalStorage('districtSortData', {\n    sortColumn: 'confirmed',\n    isAscending: false,\n  });\n\n  const history = useHistory();\n  const {t} = useTranslation();\n\n  const Chevron = useMemo(\n    () => (\n      <span\n        className={classnames(\n          'dropdown',\n          {rotateRightDown: showDistricts},\n          {rotateDownRight: !showDistricts}\n        )}\n      >\n        <Icon.ChevronDown />\n      </span>\n    ),\n    [showDistricts]\n  );\n\n  const _onHighlightState = useCallback(\n    (state) => {\n      if (!equal(state.state, regionHighlighted?.state)) {\n        onHighlightState(state);\n      }\n    },\n    [onHighlightState, regionHighlighted]\n  );\n\n  const doSort = useCallback(\n    (sortData) => {\n      if (!sortedDistricts) return null;\n      const sorted = {};\n      Object.keys(sortedDistricts)\n        .sort((district1, district2) => {\n          if (sortData.sortColumn !== 'district') {\n            return sortData.isAscending\n              ? parseInt(sortedDistricts[district1][sortData.sortColumn]) -\n                  parseInt(sortedDistricts[district2][sortData.sortColumn])\n              : parseInt(sortedDistricts[district2][sortData.sortColumn]) -\n                  parseInt(sortedDistricts[district1][sortData.sortColumn]);\n          } else {\n            return sortData.isAscending\n              ? district1.localeCompare(district2)\n              : district2.localeCompare(district1);\n          }\n        })\n        .forEach((key) => {\n          sorted[key] = sortedDistricts[key];\n        });\n      setSortedDistricts(sorted);\n    },\n    [sortedDistricts]\n  );\n\n  const handleSort = useCallback(\n    (statistic) => {\n      const newSortData = {\n        isAscending: !sortData.isAscending,\n        sortColumn: statistic,\n      };\n      doSort(newSortData);\n      setSortData(Object.assign({}, sortData, newSortData));\n    },\n    [doSort, setSortData, sortData]\n  );\n\n  useEffectOnce(() => {\n    if (state.statecode !== 'TT') doSort(sortData);\n  });\n\n  return (\n    <React.Fragment>\n      <tr\n        className={classnames(\n          'state',\n          {'is-total': state.statecode === 'TT'},\n          {'is-highlighted': regionHighlighted?.state === state.state},\n          {'is-odd': index % 2 === 0}\n        )}\n        onMouseEnter={() => _onHighlightState(state)}\n        onClick={\n          state.statecode !== 'TT'\n            ? () => {\n                setShowDistricts(!showDistricts);\n              }\n            : null\n        }\n      >\n        <td>\n          <div className=\"title-chevron\">\n            {state.statecode !== 'TT' && Chevron}\n            <span className=\"title-icon\">\n              {t(state.state)}\n\n              <span\n                data-tip={[state.statenotes]}\n                data-event=\"touchstart mouseover\"\n                data-event-off=\"mouseleave\"\n                onClick={(e) => e.stopPropagation()}\n              >\n                {state.statenotes && <Icon.Info />}\n              </span>\n            </span>\n          </div>\n        </td>\n\n        {STATE_ROW_STATISTICS.map((statistic, index) => (\n          <StateCell key={index} state={state} statistic={statistic} />\n        ))}\n      </tr>\n\n      {showDistricts && (\n        <React.Fragment>\n          <tr className=\"is-spacer\">\n            <td colSpan={5}>\n              <p />\n            </td>\n          </tr>\n\n          <tr className={'state-last-update'}>\n            <td colSpan={3} style={{paddingBottom: 0}}>\n              <p className=\"spacer\"></p>\n              <p>\n                {isNaN(Date.parse(formatDate(state.lastupdatedtime)))\n                  ? ''\n                  : `${t('Last updated')} ${formatLastUpdated(\n                      state.lastupdatedtime\n                    )} ${t('ago')}`}\n              </p>\n              {sortedDistricts?.Unknown && (\n                <div className=\"disclaimer\">\n                  <Icon.AlertCircle />\n                  {t('District-wise numbers are under reconciliation')}\n                </div>\n              )}\n            </td>\n            {state.state !== 'State Unassigned' && (\n              <td\n                align=\"center\"\n                className=\"state-page-link\"\n                colSpan={2}\n                onClick={() => {\n                  history.push(`state/${state.statecode}`);\n                }}\n              >\n                {t('See more details on {{state}}', {state: t(state.state)})}\n              </td>\n            )}\n          </tr>\n\n          <tr className={classnames('district-heading')}>\n            <td onClick={() => handleSort('district')}>\n              <div className=\"heading-content\">\n                <abbr title=\"District\">{t('District')}</abbr>\n                <div\n                  style={{\n                    display:\n                      sortData.sortColumn === 'district' ? 'initial' : 'none',\n                  }}\n                >\n                  {sortData.isAscending ? (\n                    <div className=\"arrow-up\" />\n                  ) : (\n                    <div className=\"arrow-down\" />\n                  )}\n                </div>\n              </div>\n            </td>\n\n            {DISTRICT_ROW_STATISTICS.map((statistic, index) => (\n              <DistrictHeaderCell\n                key={index}\n                handleSort={handleSort}\n                statistic={statistic}\n                sortData={sortData}\n              />\n            ))}\n          </tr>\n        </React.Fragment>\n      )}\n\n      {showDistricts &&\n        Object.keys(sortedDistricts).map((district, index) => (\n          <DistrictRow\n            key={district}\n            state={state}\n            district={district}\n            districts={districts}\n            zone={zones?.[district]}\n            sortedDistricts={sortedDistricts}\n            regionHighlighted={regionHighlighted}\n            onHighlightDistrict={onHighlightDistrict}\n          />\n        ))}\n\n      {showDistricts && (\n        <tr className=\"is-spacer\">\n          <td colSpan={5}>\n            <p />\n            <ReactTooltip\n              id=\"district\"\n              place=\"right\"\n              type=\"dark\"\n              effect=\"solid\"\n              multiline={true}\n              scrollHide={true}\n              globalEventOff=\"click\"\n            />\n          </td>\n        </tr>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default React.memo(Row, isEqual);\n","import Row from './row';\n\nimport {STATE_ROW_STATISTICS} from '../constants';\nimport {capitalize, abbreviate} from '../utils/commonfunctions';\n\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport React, {useState, useMemo, useCallback} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport ReactTooltip from 'react-tooltip';\nimport {createBreakpoint, useLocalStorage, useEffectOnce} from 'react-use';\n\nconst useBreakpoint = createBreakpoint({XL: 1280, L: 768, S: 350});\n\nfunction StateHeaderCell({handleSort, sortData, statistic}) {\n  const breakpoint = useBreakpoint();\n  const {t} = useTranslation();\n\n  return (\n    <th onClick={() => handleSort(statistic)}>\n      <div className=\"heading-content\">\n        <abbr\n          className={classnames({[`is-${statistic}`]: breakpoint === 'S'})}\n          title={statistic}\n        >\n          {breakpoint === 'L'\n            ? statistic.slice(0)\n            : breakpoint === 'S'\n            ? capitalize(\n                abbreviate(statistic === 'deaths' ? 'deceased' : statistic)\n              )\n            : t(capitalize(statistic === 'deaths' ? 'deceased' : statistic))}\n        </abbr>\n        <div\n          style={{\n            display: sortData.sortColumn === statistic ? 'initial' : 'none',\n          }}\n        >\n          <div\n            className={classnames(\n              {'arrow-up': sortData.isAscending},\n              {'arrow-down': !sortData.isAscending}\n            )}\n          />\n        </div>\n      </div>\n    </th>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  return equal(prevProps.regionHighlighted, currProps.regionHighlighted);\n};\n\nfunction Table({\n  states,\n  districts,\n  zones,\n  regionHighlighted,\n  onHighlightState,\n  onHighlightDistrict,\n}) {\n  const [sortData, setSortData] = useLocalStorage('sortData', {\n    sortColumn: 'confirmed',\n    isAscending: false,\n  });\n\n  const {t} = useTranslation();\n\n  const [sortedStates, setSortedStates] = useState(\n    states.filter((state) => state.statecode !== 'TT')\n  );\n\n  const FineprintTop = useMemo(\n    () => (\n      <React.Fragment>\n        <h5\n          className=\"table-fineprint fadeInUp\"\n          style={{animationDelay: '1.5s'}}\n        >\n          {t('Compiled from State Govt. numbers')},{' '}\n          <Link to=\"/about\" style={{color: '#6c757d'}}>\n            {t('know more')}!\n          </Link>\n        </h5>\n        <h5\n          className=\"table-fineprint fadeInUp\"\n          style={{animationDelay: '1.5s'}}\n        >\n          {t('District zones as published by MoHFW')}\n          {', '}\n          <a\n            href=\"https://www.facebook.com/airnewsalerts/photos/a.262571017217636/1710062729135117/?type=3&theater\"\n            style={{color: '#6c757d'}}\n          >\n            {t('source')}\n          </a>\n        </h5>\n      </React.Fragment>\n    ),\n    [t]\n  );\n\n  const FineprintBottom = useMemo(\n    () => (\n      <h5 className=\"table-fineprint fadeInUp\" style={{animationDelay: '1s'}}>\n        {states.slice(1).filter((s) => s && s.confirmed > 0).length} States/UTS\n        Affected\n      </h5>\n    ),\n    [states]\n  );\n\n  const doSort = useCallback(\n    (sortData) => {\n      const newSortedStates = [...sortedStates].sort((x, y) => {\n        if (sortData.sortColumn !== 'state') {\n          return sortData.isAscending\n            ? parseInt(x[sortData.sortColumn]) -\n                parseInt(y[sortData.sortColumn])\n            : parseInt(y[sortData.sortColumn]) -\n                parseInt(x[sortData.sortColumn]);\n        } else {\n          return sortData.isAscending\n            ? x[sortData.sortColumn].localeCompare(y[sortData.sortColumn])\n            : y[sortData.sortColumn].localeCompare(x[sortData.sortColumn]);\n        }\n      });\n      setSortedStates(newSortedStates);\n    },\n    [sortedStates]\n  );\n\n  const handleSort = useCallback(\n    (statistic) => {\n      const newSortData = {\n        isAscending: !sortData.isAscending,\n        sortColumn: statistic,\n      };\n      doSort(newSortData);\n      setSortData(Object.assign({}, sortData, newSortData));\n    },\n    [doSort, setSortData, sortData]\n  );\n\n  useEffectOnce(() => {\n    doSort(sortData);\n  });\n\n  if (states.length > 0) {\n    return (\n      <React.Fragment>\n        <ReactTooltip\n          place=\"right\"\n          type=\"dark\"\n          effect=\"solid\"\n          multiline={true}\n          globalEventOff=\"click\"\n        />\n\n        {FineprintTop}\n\n        <table className=\"table fadeInUp\" style={{animationDelay: '1.8s'}}>\n          <thead>\n            <tr>\n              <th className=\"state-heading\" onClick={() => handleSort('state')}>\n                <div className=\"heading-content\">\n                  <abbr title=\"State\">{t('State/UT')}</abbr>\n                  <div\n                    style={{\n                      display:\n                        sortData.sortColumn === 'state' ? 'initial' : 'none',\n                    }}\n                  >\n                    <div\n                      className={classnames(\n                        {'arrow-up': sortData.isAscending},\n                        {'arrow-down': !sortData.isAscending}\n                      )}\n                    />\n                  </div>\n                </div>\n              </th>\n              {STATE_ROW_STATISTICS.map((statistic, index) => (\n                <StateHeaderCell\n                  key={index}\n                  handleSort={handleSort}\n                  sortData={sortData}\n                  statistic={statistic}\n                />\n              ))}\n            </tr>\n          </thead>\n\n          {states && (\n            <tbody>\n              {sortedStates.map((state, index) => {\n                if (state.confirmed > 0 && state.statecode !== 'TT') {\n                  return (\n                    <Row\n                      key={state.statecode}\n                      state={state}\n                      districts={districts[state.state]?.districtData}\n                      zones={zones[state.state]}\n                      regionHighlighted={\n                        equal(regionHighlighted?.state, state.state)\n                          ? regionHighlighted\n                          : null\n                      }\n                      onHighlightState={onHighlightState}\n                      onHighlightDistrict={onHighlightDistrict}\n                    />\n                  );\n                }\n                return null;\n              })}\n            </tbody>\n          )}\n\n          {states && (\n            <tbody>\n              <Row\n                key={0}\n                state={states[0]}\n                onHighlightState={onHighlightState}\n              />\n            </tbody>\n          )}\n        </table>\n        {states && FineprintBottom}\n      </React.Fragment>\n    );\n  } else {\n    return <div style={{height: '50rem'}}></div>;\n  }\n}\n\nexport default React.memo(Table, isEqual);\n","import axios from 'axios';\nimport {formatDistance, format} from 'date-fns';\nimport React, {useState, useLayoutEffect} from 'react';\nimport {useEffectOnce} from 'react-use';\n\nconst newDate = new Date();\nlet currentDate = newDate;\n\nfunction Updates(props) {\n  const [updates, setUpdates] = useState([]);\n\n  useEffectOnce(() => {\n    axios\n      .get('https://api.covid19india.org/updatelog/log.json')\n      .then((response) => {\n        setUpdates(response.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  });\n\n  // reset the currentDate after rendering is complete\n  // in case the currentDate was changed during addHeader\n  useLayoutEffect(() => {\n    currentDate = newDate;\n  });\n\n  return (\n    <div className=\"updates\">\n      <div className=\"updates-header\">\n        <h2>{format(currentDate, 'd MMM')}</h2>\n      </div>\n\n      {updates\n        .slice(-5)\n        .reverse()\n        .map(function (activity, index) {\n          activity.update = activity.update.replace(/\\n/g, '<br/>');\n          const activityDate = new Date(activity.timestamp * 1000);\n          const addHeader = () => {\n            currentDate = activityDate;\n\n            return (\n              <React.Fragment>\n                {index === 0 ? (\n                  <div className=\"update\">\n                    <h4>No updates yet!</h4>\n                  </div>\n                ) : (\n                  ''\n                )}\n                <div className=\"updates-header\">\n                  <h2>{format(activityDate, 'd MMM')}</h2>\n                </div>\n              </React.Fragment>\n            );\n          };\n\n          return (\n            <React.Fragment key={index}>\n              {activityDate.getDate() !== currentDate.getDate()\n                ? addHeader()\n                : ' '}\n              <div key={index} className=\"update\">\n                <h5>\n                  {formatDistance(\n                    new Date(activity.timestamp * 1000),\n                    new Date()\n                  ) + ' ago'}\n                </h5>\n                <h4\n                  dangerouslySetInnerHTML={{\n                    __html: activity.update,\n                  }}\n                ></h4>\n              </div>\n            </React.Fragment>\n          );\n        })}\n    </div>\n  );\n}\n\nexport default Updates;\n","import Footer from './footer';\nimport Level from './level';\nimport MapExplorer from './mapexplorer';\nimport Minigraph from './minigraph';\nimport Search from './search';\nimport Table from './table';\nimport TimeSeriesExplorer from './timeseriesexplorer';\nimport Updates from './updates';\n\nimport {STATE_CODES_REVERSE} from '../constants';\nimport {\n  formatDate,\n  formatDateAbsolute,\n  mergeTimeseries,\n  preprocessTimeseries,\n  parseStateTimeseries,\n  parseStateTestData,\n  parseStateTestTimeseries,\n  parseTotalTestTimeseries,\n  parseDistrictZones,\n} from '../utils/commonfunctions';\n\nimport axios from 'axios';\nimport React, {useState, useCallback, useMemo} from 'react';\nimport * as Icon from 'react-feather';\nimport {Helmet} from 'react-helmet';\nimport {useEffectOnce, useLocalStorage} from 'react-use';\n\nfunction Home(props) {\n  const [states, setStates] = useState(null);\n  const [stateDistrictWiseData, setStateDistrictWiseData] = useState(null);\n  const [districtZones, setDistrictZones] = useState(null);\n  const [stateTestData, setStateTestData] = useState(null);\n  const [lastUpdated, setLastUpdated] = useState('');\n  const [timeseries, setTimeseries] = useState(null);\n  const [fetched, setFetched] = useState(false);\n  const [regionHighlighted, setRegionHighlighted] = useState({\n    state: 'Total',\n  });\n  const [showUpdates, setShowUpdates] = useState(false);\n  const [anchor, setAnchor] = useState(null);\n  const [mapOption, setMapOption] = useState('confirmed');\n\n  const [lastViewedLog, setLastViewedLog] = useLocalStorage(\n    'lastViewedLog',\n    null\n  );\n  const [newUpdate, setNewUpdate] = useLocalStorage('newUpdate', false);\n\n  const Bell = useMemo(\n    () => (\n      <Icon.Bell\n        onClick={() => {\n          setShowUpdates(!showUpdates);\n          setNewUpdate(false);\n        }}\n      />\n    ),\n    [setNewUpdate, showUpdates]\n  );\n\n  const BellOff = useMemo(\n    () => (\n      <Icon.BellOff\n        onClick={() => {\n          setShowUpdates(!showUpdates);\n        }}\n      />\n    ),\n    [showUpdates]\n  );\n\n  useEffectOnce(() => {\n    getStates();\n  });\n\n  useEffectOnce(() => {\n    axios\n      .get('https://api.covid19india.org/updatelog/log.json')\n      .then((response) => {\n        const lastTimestamp = response.data\n          .slice()\n          .reverse()[0]\n          .timestamp.toString();\n        if (lastTimestamp !== lastViewedLog) {\n          setNewUpdate(true);\n          setLastViewedLog(lastTimestamp);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  });\n\n  const getStates = async () => {\n    try {\n      const [\n        {data: statesDailyResponse},\n        {data: zonesResponse},\n      ] = await Promise.all([\n        axios.get('https://api.covid19india.org/states_daily.json'),\n        axios.get('https://api.covid19india.org/zones.json'),\n      ]);\n\n      const [\n        {data},\n        {data: stateDistrictWiseResponse},\n        {data: stateTestData},\n      ] = await Promise.all([\n        axios.get('https://api.covid19india.org/data.json'),\n        axios.get('https://api.covid19india.org/state_district_wise.json'),\n        axios.get('https://api.covid19india.org/state_test_data.json'),\n      ]);\n\n      setStates(data.statewise);\n      setDistrictZones(parseDistrictZones(zonesResponse.zones));\n\n      const ts = parseStateTimeseries(statesDailyResponse);\n      ts['TT'] = preprocessTimeseries(data.cases_time_series);\n      // Testing data timeseries\n      const testTs = parseStateTestTimeseries(stateTestData.states_tested_data);\n      testTs['TT'] = parseTotalTestTimeseries(data.tested);\n      // Merge\n      const tsMerged = mergeTimeseries(ts, testTs);\n      setTimeseries(tsMerged);\n\n      setLastUpdated(data.statewise[0].lastupdatedtime);\n\n      const testData = parseStateTestData(stateTestData.states_tested_data);\n      const totalTest = data.tested[data.tested.length - 1];\n      testData['Total'] = {\n        source: totalTest.source,\n        totaltested: totalTest.totalsamplestested,\n        updatedon: totalTest.updatetimestamp.split(' ')[0],\n      };\n      setStateTestData(testData);\n\n      setStateDistrictWiseData(stateDistrictWiseResponse);\n      setFetched(true);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const onHighlightState = useCallback((state) => {\n    if (!state) return setRegionHighlighted(null);\n    setRegionHighlighted({state: state.state});\n  }, []);\n\n  const onHighlightDistrict = useCallback((district, state) => {\n    if (!state && !district) return setRegionHighlighted(null);\n    setRegionHighlighted({district, state: state.state});\n  }, []);\n\n  return (\n    <React.Fragment>\n      <div className=\"Home\">\n        <Helmet>\n          <title>Coronavirus Outbreak in India - covid19india.org</title>\n          <meta\n            name=\"title\"\n            content=\"Coronavirus Outbreak in India: Latest Map and Case Count\"\n          />\n        </Helmet>\n\n        <div className=\"home-left\">\n          <div className=\"header fadeInUp\" style={{animationDelay: '1s'}}>\n            {fetched && <Search districtZones={districtZones} />}\n\n            <div className=\"actions\">\n              <h5>\n                {isNaN(Date.parse(formatDate(lastUpdated)))\n                  ? ''\n                  : `${formatDateAbsolute(lastUpdated)} IST`}\n              </h5>\n              {fetched && !showUpdates && (\n                <div className=\"bell-icon\">\n                  {fetched && Bell}\n                  {newUpdate && <div className=\"indicator\"></div>}\n                </div>\n              )}\n              {fetched && showUpdates && BellOff}\n            </div>\n          </div>\n\n          {showUpdates && <Updates />}\n\n          {states && <Level data={states[0]} />}\n          {timeseries && <Minigraph timeseries={timeseries['TT']} />}\n          {stateDistrictWiseData && (\n            <Table\n              states={states}\n              summary={false}\n              districts={stateDistrictWiseData}\n              zones={districtZones}\n              regionHighlighted={regionHighlighted}\n              setRegionHighlighted={setRegionHighlighted}\n              onHighlightState={onHighlightState}\n              onHighlightDistrict={onHighlightDistrict}\n            />\n          )}\n        </div>\n\n        <div className=\"home-right\">\n          <React.Fragment>\n            {fetched && (\n              <MapExplorer\n                mapName={'India'}\n                states={states}\n                districts={stateDistrictWiseData}\n                zones={districtZones}\n                stateTestData={stateTestData}\n                regionHighlighted={regionHighlighted}\n                setRegionHighlighted={setRegionHighlighted}\n                anchor={anchor}\n                setAnchor={setAnchor}\n                mapOption={mapOption}\n                setMapOption={setMapOption}\n              />\n            )}\n\n            {timeseries && (\n              <TimeSeriesExplorer\n                timeseries={\n                  timeseries[\n                    STATE_CODES_REVERSE[regionHighlighted?.state] || 'TT'\n                  ]\n                }\n                activeStateCode={\n                  STATE_CODES_REVERSE[regionHighlighted?.state] || 'TT'\n                }\n                onHighlightState={onHighlightState}\n                states={states}\n                anchor={anchor}\n                setAnchor={setAnchor}\n              />\n            )}\n          </React.Fragment>\n        </div>\n      </div>\n      {fetched && <Footer />}\n    </React.Fragment>\n  );\n}\n\nexport default Home;\n"],"sourceRoot":""}